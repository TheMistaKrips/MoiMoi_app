================================================================================
Ğ˜Ğ¡Ğ¥ĞĞ”ĞĞ«Ğ™ ĞšĞĞ” ĞŸĞ ĞĞ•ĞšĞ¢Ğ
Ğ”Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ: C:\Users\MSI\Desktop\MoiMoi\MoiMoi
Ğ’ÑĞµĞ³Ğ¾ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²: 16
================================================================================


â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– 
ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: JSON (2 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)
â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– 

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ğ¤ĞĞ™Ğ›: app.json                                                               â•‘
â•‘ ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: JSON                                                              â•‘
â•‘ ĞŸĞĞ›ĞĞ«Ğ™ ĞŸĞ£Ğ¢Ğ¬: C:\Users\MSI\Desktop\MoiMoi\MoiMoi\app.json                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{
  "expo": {
    "name": "MoiMoi",
    "slug": "MoiMoi",
    "version": "1.0.0",
    "orientation": "portrait",
    "icon": "./assets/icon.png",
    "userInterfaceStyle": "light",
    "newArchEnabled": true,
    "splash": {
      "image": "./assets/splash-icon.png",
      "resizeMode": "contain",
      "backgroundColor": "#ffffff"
    },
    "plugins": [
      "expo-notifications"
    ],
    "ios": {
      "supportsTablet": true,
      "infoPlist": {
        "UIBackgroundModes": [
          "remote-notification"
        ]
      }
    },
    "android": {
      "adaptiveIcon": {
        "foregroundImage": "./assets/adaptive-icon.png",
        "backgroundColor": "#ffffff"
      },
      "edgeToEdgeEnabled": true,
      "permissions": [
        "RECEIVE_BOOT_COMPLETED",
        "SCHEDULE_EXACT_ALARM"
      ],
      "package": "com.fgerman.MoiMoi"
    },
    "web": {
      "favicon": "./assets/favicon.png"
    },
    "extra": {
      "eas": {
        "projectId": "c5b27058-5865-43b1-9419-5a59eea1d018"
      }
    }
  }
}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ğ¤ĞĞ™Ğ›: eas.json                                                               â•‘
â•‘ ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: JSON                                                              â•‘
â•‘ ĞŸĞĞ›ĞĞ«Ğ™ ĞŸĞ£Ğ¢Ğ¬: C:\Users\MSI\Desktop\MoiMoi\MoiMoi\eas.json                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{
    "build": {
        "preview": {
            "android": {
                "buildType": "apk"
            }
        },
        "production": {}
    }
}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– 
ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: JavaScript (13 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)
â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– 

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ğ¤ĞĞ™Ğ›: App.js                                                                 â•‘
â•‘ ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: JavaScript                                                        â•‘
â•‘ ĞŸĞĞ›ĞĞ«Ğ™ ĞŸĞ£Ğ¢Ğ¬: C:\Users\MSI\Desktop\MoiMoi\MoiMoi\App.js                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import React from 'react';
import { NavigationContainer } from '@react-navigation/native';
import { StatusBar } from 'react-native';
import AppNavigator from './src/navigation/AppNavigator';

export default function App() {
  return (
    <NavigationContainer>
      <StatusBar barStyle="dark-content" backgroundColor="#ffffff" />
      <AppNavigator />
    </NavigationContainer>
  );
}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ğ¤ĞĞ™Ğ›: index.js                                                               â•‘
â•‘ ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: JavaScript                                                        â•‘
â•‘ ĞŸĞĞ›ĞĞ«Ğ™ ĞŸĞ£Ğ¢Ğ¬: C:\Users\MSI\Desktop\MoiMoi\MoiMoi\index.js                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import { registerRootComponent } from 'expo';

import App from './App';

// registerRootComponent calls AppRegistry.registerComponent('main', () => App);
// It also ensures that whether you load the app in Expo Go or in a native build,
// the environment is set up appropriately
registerRootComponent(App);
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ğ¤ĞĞ™Ğ›: src\navigation\AppNavigator.js                                         â•‘
â•‘ ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: JavaScript                                                        â•‘
â•‘ ĞŸĞĞ›ĞĞ«Ğ™ ĞŸĞ£Ğ¢Ğ¬: C:\Users\MSI\Desktop\MoiMoi\MoiMoi\src\navigation\AppNavigator.js â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import React, { useState, useEffect } from 'react';
import { createNativeStackNavigator } from '@react-navigation/native-stack';
import { createBottomTabNavigator } from '@react-navigation/bottom-tabs';
import AsyncStorage from '@react-native-async-storage/async-storage';
import { Ionicons } from '@expo/vector-icons';

// Ğ˜Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ ÑĞºÑ€Ğ°Ğ½Ğ¾Ğ²
import GoogleLoginPage from '../screens/Onboarding/GoogleLoginPage';
import WelcomeScreen from '../screens/Onboarding/WelcomeScreen';
import PermissionsScreen from '../screens/Onboarding/PermissionsScreen';
import HabitsScreen from '../screens/Onboarding/HabitsScreen';
import RegistrationScreen from '../screens/Onboarding/RegistrationScreen';
import HomeScreen from '../screens/Main/HomeScreen';
import ProfileScreen from '../screens/Main/ProfileScreen';
import ChatScreen from '../screens/Main/ChatScreen';
import CalendarScreen from '../screens/Main/CalendarScreen';
import SettingsScreen from '../screens/Main/SettingsScreen';

const Stack = createNativeStackNavigator();
const Tab = createBottomTabNavigator();

function MainTabs() {
    return (
        <Tab.Navigator
            screenOptions={{
                tabBarActiveTintColor: '#bb69f2',
                tabBarInactiveTintColor: '#999',
                tabBarStyle: {
                    backgroundColor: '#ffffff',
                    borderTopWidth: 1,
                    borderTopColor: '#e9ecef',
                    height: 80,
                    paddingBottom: 40,
                },
                tabBarLabelStyle: {
                    fontSize: 12,
                    fontWeight: '500',
                },
            }}
        >
            <Tab.Screen
                name="Home"
                component={HomeScreen}
                options={{
                    tabBarIcon: ({ color, size }) => (
                        <Ionicons name="home-outline" size={size} color={color} />
                    ),
                    headerShown: false,
                    title: 'Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ',
                }}
            />
            <Tab.Screen
                name="Chat"
                component={ChatScreen}
                options={{
                    tabBarIcon: ({ color, size }) => (
                        <Ionicons name="chatbubble-outline" size={size} color={color} />
                    ),
                    title: 'Ğ§Ğ°Ñ‚',
                    headerStyle: {
                        backgroundColor: '#bb69f2',
                    },
                    headerTintColor: 'white',
                }}
            />
            <Tab.Screen
                name="Calendar"
                component={CalendarScreen}
                options={{
                    tabBarIcon: ({ color, size }) => (
                        <Ionicons name="calendar-outline" size={size} color={color} />
                    ),
                    title: 'ĞšĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ÑŒ',
                    headerStyle: {
                        backgroundColor: '#bb69f2',
                    },
                    headerTintColor: 'white',
                }}
            />
            <Tab.Screen
                name="Profile"
                component={ProfileScreen}
                options={{
                    tabBarIcon: ({ color, size }) => (
                        <Ionicons name="person-outline" size={size} color={color} />
                    ),
                    title: 'ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ',
                    headerStyle: {
                        backgroundColor: '#bb69f2',
                    },
                    headerTintColor: 'white',
                }}
            />
            {/* Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Settings Ğ² Ñ‚Ğ°Ğ±-Ğ±Ğ°Ñ€ */}
            <Tab.Screen
                name="Settings"
                component={SettingsScreen}
                options={{
                    tabBarIcon: ({ color, size }) => (
                        <Ionicons name="settings-outline" size={size} color={color} />
                    ),
                    title: 'ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸',
                    headerStyle: {
                        backgroundColor: '#bb69f2',
                    },
                    headerTintColor: 'white',
                }}
            />
        </Tab.Navigator>
    );
}

function OnboardingStack() {
    return (
        <Stack.Navigator
            screenOptions={{
                headerShown: false,
                animation: 'slide_from_right',
            }}
        >
            <Stack.Screen
                name="Welcome"
                component={WelcomeScreen}
                options={{
                    animation: 'fade',
                }}
            />
            <Stack.Screen name="Permissions" component={PermissionsScreen} />
            <Stack.Screen name="Habits" component={HabitsScreen} />
            <Stack.Screen name="Registration" component={RegistrationScreen} />
            <Stack.Screen
                name="Main"
                component={MainTabs}
                options={{
                    animation: 'slide_from_bottom',
                }}
            />
        </Stack.Navigator>
    );
}

export default function AppNavigator() {
    const [appReady, setAppReady] = useState(false);
    const [isLoggedIn, setIsLoggedIn] = useState(false);
    const [hasCompletedOnboarding, setHasCompletedOnboarding] = useState(false);

    useEffect(() => {
        checkAuthState();
    }, []);

    const checkAuthState = async () => {
        try {
            const userLoggedIn = await AsyncStorage.getItem('isLoggedIn');
            const onboardingCompleted = await AsyncStorage.getItem('hasCompletedOnboarding');

            console.log('Auth state check:', {
                userLoggedIn,
                onboardingCompleted
            });

            setIsLoggedIn(userLoggedIn === 'true');
            setHasCompletedOnboarding(onboardingCompleted === 'true');
        } catch (error) {
            console.error('Error checking auth state:', error);
        } finally {
            setAppReady(true);
        }
    };

    if (!appReady) {
        return null;
    }

    console.log('Rendering navigator with:', {
        isLoggedIn,
        hasCompletedOnboarding
    });

    return (
        <Stack.Navigator
            screenOptions={{
                headerShown: false,
            }}
        >
            {!isLoggedIn ? (
                // ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ½Ğµ Ğ·Ğ°Ğ»Ğ¾Ğ³Ğ¸Ğ½ĞµĞ½ - Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ÑĞºÑ€Ğ°Ğ½ Ğ²Ñ…Ğ¾Ğ´Ğ°
                <Stack.Screen
                    name="Login"
                    component={GoogleLoginPage}
                    options={{
                        animation: 'fade',
                    }}
                />
            ) : !hasCompletedOnboarding ? (
                // ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ·Ğ°Ğ»Ğ¾Ğ³Ğ¸Ğ½ĞµĞ½, Ğ½Ğ¾ Ğ½Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ğ» Ğ¾Ğ½Ğ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³
                <Stack.Screen
                    name="Onboarding"
                    component={OnboardingStack}
                />
            ) : (
                // ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ·Ğ°Ğ»Ğ¾Ğ³Ğ¸Ğ½ĞµĞ½ Ğ¸ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ğ» Ğ¾Ğ½Ğ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³ - Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ
                <>
                    <Stack.Screen
                        name="Main"
                        component={MainTabs}
                    />
                    <Stack.Screen
                        name="Settings"
                        component={SettingsScreen}
                        options={{
                            headerShown: true,
                            title: 'ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸',
                            headerStyle: {
                                backgroundColor: '#bb69f2',
                            },
                            headerTintColor: 'white',
                        }}
                    />
                </>
            )}
        </Stack.Navigator>
    );
}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ğ¤ĞĞ™Ğ›: src\screens\Main\CalendarScreen.js                                     â•‘
â•‘ ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: JavaScript                                                        â•‘
â•‘ ĞŸĞĞ›ĞĞ«Ğ™ ĞŸĞ£Ğ¢Ğ¬: C:\Users\MSI\Desktop\MoiMoi\MoiMoi\src\screens\Main\CalendarScreen.js â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import React, { useState, useEffect } from 'react';
import { View, Text, StyleSheet, ScrollView, TouchableOpacity } from 'react-native';
import { Ionicons } from '@expo/vector-icons';
import AsyncStorage from '@react-native-async-storage/async-storage';

export default function CalendarScreen() {
    const [tasks, setTasks] = useState([]);
    const [selectedDate, setSelectedDate] = useState(new Date());

    useEffect(() => {
        loadTasks();
    }, []);

    const loadTasks = async () => {
        try {
            const tasksString = await AsyncStorage.getItem('userTasks');
            if (tasksString) {
                setTasks(JSON.parse(tasksString));
            }
        } catch (error) {
            console.error('Error loading tasks:', error);
        }
    };

    const getTasksForDate = (date) => {
        return tasks.filter(task => {
            const taskDate = new Date(task.createdAt).toDateString();
            return taskDate === date.toDateString();
        });
    };

    const formatDate = (date) => {
        return date.toLocaleDateString('ru-RU', {
            weekday: 'long',
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });
    };

    const navigateDate = (days) => {
        const newDate = new Date(selectedDate);
        newDate.setDate(newDate.getDate() + days);
        setSelectedDate(newDate);
    };

    const todayTasks = getTasksForDate(selectedDate);
    const completedToday = todayTasks.filter(task => task.completed).length;

    return (
        <View style={styles.container}>
            <View style={styles.header}>
                <TouchableOpacity onPress={() => navigateDate(-1)} style={styles.navButton}>
                    <Ionicons name="chevron-back" size={24} color="#333" />
                </TouchableOpacity>

                <View style={styles.dateContainer}>
                    <Text style={styles.dateText}>{formatDate(selectedDate)}</Text>
                    <Text style={styles.tasksCounter}>
                        {completedToday} Ğ¸Ğ· {todayTasks.length} Ğ·Ğ°Ğ´Ğ°Ñ‡ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¾
                    </Text>
                </View>

                <TouchableOpacity onPress={() => navigateDate(1)} style={styles.navButton}>
                    <Ionicons name="chevron-forward" size={24} color="#333" />
                </TouchableOpacity>
            </View>

            <ScrollView style={styles.content}>
                {todayTasks.length === 0 ? (
                    <View style={styles.emptyState}>
                        <Ionicons name="calendar-outline" size={64} color="#bb69f2" />
                        <Text style={styles.emptyText}>ĞĞµÑ‚ Ğ·Ğ°Ğ´Ğ°Ñ‡ Ğ½Ğ° ÑÑ‚Ğ¾Ñ‚ Ğ´ĞµĞ½ÑŒ</Text>
                        <Text style={styles.emptySubtext}>
                            Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸, ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ½Ğ° ÑÑ‚Ñƒ Ğ´Ğ°Ñ‚Ñƒ, Ğ¿Ğ¾ÑĞ²ÑÑ‚ÑÑ Ğ·Ğ´ĞµÑÑŒ
                        </Text>
                    </View>
                ) : (
                    <View style={styles.tasksList}>
                        {todayTasks.map((task) => (
                            <View key={task.id} style={styles.taskItem}>
                                <View style={[
                                    styles.statusIndicator,
                                    task.completed ? styles.completed : styles.pending
                                ]} />
                                <Text style={[
                                    styles.taskText,
                                    task.completed && styles.taskTextCompleted
                                ]}>
                                    {task.text}
                                </Text>
                                <View style={styles.taskMeta}>
                                    <Text style={styles.taskTime}>
                                        {new Date(task.createdAt).toLocaleTimeString('ru-RU', {
                                            hour: '2-digit',
                                            minute: '2-digit'
                                        })}
                                    </Text>
                                    {task.completed && (
                                        <Ionicons name="checkmark-circle" size={16} color="#4CAF50" />
                                    )}
                                </View>
                            </View>
                        ))}
                    </View>
                )}
            </ScrollView>
        </View>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        backgroundColor: '#f8f9fa',
    },
    header: {
        flexDirection: 'row',
        alignItems: 'center',
        justifyContent: 'space-between',
        padding: 20,
        backgroundColor: 'white',
        borderBottomWidth: 1,
        borderBottomColor: '#e9ecef',
    },
    navButton: {
        padding: 8,
    },
    dateContainer: {
        alignItems: 'center',
        flex: 1,
    },
    dateText: {
        fontSize: 18,
        fontWeight: 'bold',
        color: '#333',
        textAlign: 'center',
    },
    tasksCounter: {
        fontSize: 14,
        color: '#bb69f2',
        marginTop: 4,
        fontWeight: '500',
    },
    content: {
        flex: 1,
        padding: 20,
    },
    emptyState: {
        alignItems: 'center',
        justifyContent: 'center',
        paddingVertical: 60,
    },
    emptyText: {
        fontSize: 18,
        color: '#666',
        marginTop: 16,
        fontWeight: '500',
    },
    emptySubtext: {
        fontSize: 14,
        color: '#999',
        marginTop: 8,
        textAlign: 'center',
    },
    tasksList: {
        backgroundColor: 'white',
        borderRadius: 12,
        overflow: 'hidden',
    },
    taskItem: {
        flexDirection: 'row',
        alignItems: 'center',
        padding: 16,
        borderBottomWidth: 1,
        borderBottomColor: '#f0f0f0',
    },
    statusIndicator: {
        width: 8,
        height: 8,
        borderRadius: 4,
        marginRight: 12,
    },
    completed: {
        backgroundColor: '#4CAF50',
    },
    pending: {
        backgroundColor: '#ff9800',
    },
    taskText: {
        flex: 1,
        fontSize: 16,
        color: '#333',
    },
    taskTextCompleted: {
        textDecorationLine: 'line-through',
        color: '#999',
    },
    taskMeta: {
        alignItems: 'flex-end',
    },
    taskTime: {
        fontSize: 12,
        color: '#999',
        marginBottom: 4,
    },
});
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ğ¤ĞĞ™Ğ›: src\screens\Main\ChatScreen.js                                         â•‘
â•‘ ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: JavaScript                                                        â•‘
â•‘ ĞŸĞĞ›ĞĞ«Ğ™ ĞŸĞ£Ğ¢Ğ¬: C:\Users\MSI\Desktop\MoiMoi\MoiMoi\src\screens\Main\ChatScreen.js â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import React, { useState, useEffect, useRef } from 'react';
import { View, Text, StyleSheet, TextInput, TouchableOpacity, FlatList, KeyboardAvoidingView, Platform } from 'react-native';
import { Ionicons } from '@expo/vector-icons';
import AsyncStorage from '@react-native-async-storage/async-storage';

const MoiMoiResponses = [
    "ĞŸÑ€Ğ¸Ğ²ĞµÑ‚! ĞšĞ°Ğº Ñ‚Ğ²Ğ¾Ğ¸ Ğ´ĞµĞ»Ğ°? ğŸ˜Š",
    "ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾! ĞĞµ Ğ·Ğ°Ğ±Ñ‹Ğ²Ğ°Ğ¹ Ğ¿Ñ€Ğ¾ ÑĞ²Ğ¾Ğ¸ Ğ¿Ñ€Ğ¸Ğ²Ñ‹Ñ‡ĞºĞ¸! ğŸ’ª",
    "Ğ¯ Ğ·Ğ´ĞµÑÑŒ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ°Ñ‚ÑŒ Ñ‚ĞµĞ±Ñ! ğŸŒŸ",
    "ĞšĞ°Ğº Ğ¿Ñ€Ğ¾ÑˆĞµĞ» Ñ‚Ğ²Ğ¾Ğ¹ Ğ´ĞµĞ½ÑŒ? Ğ Ğ°ÑÑĞºĞ°Ğ¶Ğ¸ Ğ¼Ğ½Ğµ! ğŸ“",
    "ĞŸĞ¾Ğ¼Ğ½Ğ¸: Ğ¼Ğ°Ğ»ĞµĞ½ÑŒĞºĞ¸Ğµ ÑˆĞ°Ğ³Ğ¸ Ğ²ĞµĞ´ÑƒÑ‚ Ğº Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğ¼ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°Ğ¼! ğŸ¯",
    "Ğ¢Ñ‹ Ğ´ĞµĞ»Ğ°ĞµÑˆÑŒ Ğ¿Ñ€ĞµĞºÑ€Ğ°ÑĞ½Ñ‹Ğµ ÑƒÑĞ¿ĞµÑ…Ğ¸! ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°Ğ¹ Ğ² Ñ‚Ğ¾Ğ¼ Ğ¶Ğµ Ğ´ÑƒÑ…Ğµ! ğŸš€",
    "ĞĞµ Ğ·Ğ°Ğ±Ñ‹Ğ²Ğ°Ğ¹ Ğ¿Ğ¸Ñ‚ÑŒ Ğ²Ğ¾Ğ´Ñƒ Ğ¸ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ Ğ¿ĞµÑ€ĞµÑ€Ñ‹Ğ²Ñ‹! ğŸ’§",
    "Ğ¯ Ğ³Ğ¾Ñ€Ğ¶ÑƒÑÑŒ Ñ‚Ğ¾Ğ±Ğ¾Ğ¹! Ğ¢Ñ‹ ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸ÑˆÑŒÑÑ Ğ»ÑƒÑ‡ÑˆĞµ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ! ğŸŒˆ",
    "Ğ§Ñ‚Ğ¾ Ñ‚ĞµĞ±Ñ ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ Ğ¿Ğ¾Ñ€Ğ°Ğ´Ğ¾Ğ²Ğ°Ğ»Ğ¾? ĞŸĞ¾Ğ´ĞµĞ»Ğ¸ÑÑŒ! ğŸ˜„",
    "Ğ’ĞµÑ€ÑŒ Ğ² ÑĞµĞ±Ñ! Ğ¢Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑˆÑŒ Ğ´Ğ¾ÑÑ‚Ğ¸Ñ‡ÑŒ Ğ»ÑĞ±Ñ‹Ñ… Ñ†ĞµĞ»ĞµĞ¹! ğŸ’«"
];

export default function ChatScreen() {
    const [messages, setMessages] = useState([]);
    const [inputText, setInputText] = useState('');
    const flatListRef = useRef(null);

    useEffect(() => {
        loadChatHistory();
        // ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿Ñ€Ğ¸Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ğµ Ğ¾Ñ‚ MoiMoi
        if (messages.length === 0) {
            setTimeout(() => {
                addMoiMoiMessage("ĞŸÑ€Ğ¸Ğ²ĞµÑ‚! Ğ¯ Ñ‚Ğ²Ğ¾Ğ¹ MoiMoi! Ğ“Ğ¾Ñ‚Ğ¾Ğ² Ğ¿Ğ¾Ğ¼Ğ¾Ñ‡ÑŒ Ñ‚ĞµĞ±Ğµ Ñ Ğ¿Ñ€Ğ¸Ğ²Ñ‹Ñ‡ĞºĞ°Ğ¼Ğ¸ Ğ¸ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ°Ğ¼Ğ¸! ğŸ˜Š");
            }, 1000);
        }
    }, []);

    const loadChatHistory = async () => {
        try {
            const chatHistory = await AsyncStorage.getItem('chatHistory');
            if (chatHistory) {
                setMessages(JSON.parse(chatHistory));
            }
        } catch (error) {
            console.error('Error loading chat history:', error);
        }
    };

    const saveChatHistory = async (updatedMessages) => {
        try {
            await AsyncStorage.setItem('chatHistory', JSON.stringify(updatedMessages));
        } catch (error) {
            console.error('Error saving chat history:', error);
        }
    };

    const addMoiMoiMessage = (text) => {
        const newMessage = {
            id: Date.now().toString(),
            text: text,
            isUser: false,
            timestamp: new Date().toISOString(),
        };
        const updatedMessages = [...messages, newMessage];
        setMessages(updatedMessages);
        saveChatHistory(updatedMessages);

        setTimeout(() => {
            flatListRef.current?.scrollToEnd({ animated: true });
        }, 100);
    };

    const sendMessage = () => {
        if (inputText.trim()) {
            // Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
            const userMessage = {
                id: Date.now().toString(),
                text: inputText.trim(),
                isUser: true,
                timestamp: new Date().toISOString(),
            };
            const updatedMessages = [...messages, userMessage];
            setMessages(updatedMessages);
            saveChatHistory(updatedMessages);
            setInputText('');

            // ĞÑ‚Ğ²ĞµÑ‚ MoiMoi
            setTimeout(() => {
                const randomResponse = MoiMoiResponses[Math.floor(Math.random() * MoiMoiResponses.length)];
                addMoiMoiMessage(randomResponse);
            }, 1000);

            setTimeout(() => {
                flatListRef.current?.scrollToEnd({ animated: true });
            }, 100);
        }
    };

    const renderMessage = ({ item }) => (
        <View style={[
            styles.messageContainer,
            item.isUser ? styles.userMessage : styles.moiMoiMessage
        ]}>
            <View style={[
                styles.messageBubble,
                item.isUser ? styles.userBubble : styles.moiMoiBubble
            ]}>
                <Text style={[
                    styles.messageText,
                    item.isUser ? styles.userMessageText : styles.moiMoiMessageText
                ]}>
                    {item.text}
                </Text>
            </View>
            <Text style={styles.timestamp}>
                {new Date(item.timestamp).toLocaleTimeString('ru-RU', {
                    hour: '2-digit',
                    minute: '2-digit'
                })}
            </Text>
        </View>
    );

    return (
        <KeyboardAvoidingView
            style={styles.container}
            behavior={Platform.OS === 'ios' ? 'padding' : 'height'}
        >
            <FlatList
                ref={flatListRef}
                data={messages}
                renderItem={renderMessage}
                keyExtractor={(item) => item.id}
                style={styles.messagesList}
                contentContainerStyle={styles.messagesContent}
                onContentSizeChange={() => flatListRef.current?.scrollToEnd({ animated: true })}
            />

            <View style={styles.inputContainer}>
                <TextInput
                    style={styles.textInput}
                    value={inputText}
                    onChangeText={setInputText}
                    placeholder="ĞĞ°Ğ¿Ğ¸ÑˆĞ¸Ñ‚Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ..."
                    placeholderTextColor="#999"
                    multiline
                    maxLength={500}
                />
                <TouchableOpacity
                    style={[
                        styles.sendButton,
                        !inputText.trim() && styles.sendButtonDisabled
                    ]}
                    onPress={sendMessage}
                    disabled={!inputText.trim()}
                >
                    <Ionicons
                        name="send"
                        size={20}
                        color={inputText.trim() ? "white" : "#ccc"}
                    />
                </TouchableOpacity>
            </View>
        </KeyboardAvoidingView>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        backgroundColor: '#f8f9fa',
    },
    messagesList: {
        flex: 1,
    },
    messagesContent: {
        padding: 16,
    },
    messageContainer: {
        marginBottom: 16,
        maxWidth: '80%',
    },
    userMessage: {
        alignSelf: 'flex-end',
        alignItems: 'flex-end',
    },
    moiMoiMessage: {
        alignSelf: 'flex-start',
        alignItems: 'flex-start',
    },
    messageBubble: {
        padding: 12,
        borderRadius: 18,
        marginBottom: 4,
    },
    userBubble: {
        backgroundColor: '#bb69f2',
        borderBottomRightRadius: 4,
    },
    moiMoiBubble: {
        backgroundColor: 'white',
        borderBottomLeftRadius: 4,
        borderWidth: 1,
        borderColor: '#e9ecef',
    },
    messageText: {
        fontSize: 16,
        lineHeight: 20,
    },
    userMessageText: {
        color: 'white',
    },
    moiMoiMessageText: {
        color: '#333',
    },
    timestamp: {
        fontSize: 12,
        color: '#999',
    },
    inputContainer: {
        flexDirection: 'row',
        alignItems: 'flex-end',
        padding: 16,
        backgroundColor: 'white',
        borderTopWidth: 1,
        borderTopColor: '#e9ecef',
    },
    textInput: {
        flex: 1,
        borderWidth: 1,
        borderColor: '#e9ecef',
        borderRadius: 20,
        paddingHorizontal: 16,
        paddingVertical: 12,
        marginRight: 12,
        maxHeight: 100,
        backgroundColor: '#f8f9fa',
        fontSize: 16,
    },
    sendButton: {
        width: 44,
        height: 44,
        borderRadius: 22,
        backgroundColor: '#69a4fe',
        justifyContent: 'center',
        alignItems: 'center',
    },
    sendButtonDisabled: {
        backgroundColor: '#f0f0f0',
    },
});
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ğ¤ĞĞ™Ğ›: src\screens\Main\HomeScreen.js                                         â•‘
â•‘ ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: JavaScript                                                        â•‘
â•‘ ĞŸĞĞ›ĞĞ«Ğ™ ĞŸĞ£Ğ¢Ğ¬: C:\Users\MSI\Desktop\MoiMoi\MoiMoi\src\screens\Main\HomeScreen.js â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import React, { useState, useEffect } from 'react';
import { View, Text, StyleSheet, TouchableOpacity, ScrollView, Image, TextInput, Modal, Alert } from 'react-native';
import { Ionicons } from '@expo/vector-icons';
import LottieView from 'lottie-react-native';
import AsyncStorage from '@react-native-async-storage/async-storage';

export default function HomeScreen() {
    const [userName, setUserName] = useState('ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ');
    const [tasks, setTasks] = useState([]);
    const [showAddTask, setShowAddTask] = useState(false);
    const [newTask, setNewTask] = useState('');
    const [userData, setUserData] = useState(null);

    useEffect(() => {
        loadUserData();
        loadTasks();
    }, []);

    const loadUserData = async () => {
        try {
            const userDataString = await AsyncStorage.getItem('userData');
            if (userDataString) {
                const data = JSON.parse(userDataString);
                setUserData(data);
                setUserName(data.name || 'ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ');
            }
        } catch (error) {
            console.error('Error loading user data:', error);
        }
    };

    const loadTasks = async () => {
        try {
            const tasksString = await AsyncStorage.getItem('userTasks');
            if (tasksString) {
                setTasks(JSON.parse(tasksString));
            }
        } catch (error) {
            console.error('Error loading tasks:', error);
        }
    };

    const saveTasks = async (updatedTasks) => {
        try {
            await AsyncStorage.setItem('userTasks', JSON.stringify(updatedTasks));
        } catch (error) {
            console.error('Error saving tasks:', error);
        }
    };

    const addTask = () => {
        if (newTask.trim()) {
            const task = {
                id: Date.now().toString(),
                text: newTask.trim(),
                completed: false,
                createdAt: new Date().toISOString(),
            };
            const updatedTasks = [...tasks, task];
            setTasks(updatedTasks);
            saveTasks(updatedTasks);
            setNewTask('');
            setShowAddTask(false);
        }
    };

    const toggleTask = (taskId) => {
        const updatedTasks = tasks.map(task =>
            task.id === taskId ? { ...task, completed: !task.completed } : task
        );
        setTasks(updatedTasks);
        saveTasks(updatedTasks);
    };

    const deleteTask = (taskId) => {
        Alert.alert(
            'Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ',
            'Ğ’Ñ‹ ÑƒĞ²ĞµÑ€ĞµĞ½Ñ‹, Ñ‡Ñ‚Ğ¾ Ñ…Ğ¾Ñ‚Ğ¸Ñ‚Ğµ ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ÑÑ‚Ñƒ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ?',
            [
                { text: 'ĞÑ‚Ğ¼ĞµĞ½Ğ°', style: 'cancel' },
                {
                    text: 'Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ',
                    style: 'destructive',
                    onPress: () => {
                        const updatedTasks = tasks.filter(task => task.id !== taskId);
                        setTasks(updatedTasks);
                        saveTasks(updatedTasks);
                    },
                },
            ]
        );
    };

    const completedTasks = tasks.filter(task => task.completed).length;

    return (
        <View style={styles.container}>
            {/* Header */}
            <View style={styles.header}>
                <Text style={styles.welcomeText}>Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ, {userName}! ğŸ‘‹</Text>
                <Text style={styles.moimoiText}>MoiMoi</Text>
            </View>

            {/* MoiMoi Animation Section */}
            <View style={styles.moimoiContainer}>
                <LottieView
                    source={require('../../../assets/Animations/moimoi_animation_test.json')}
                    autoPlay
                    loop
                    style={styles.moimoiAnimation}
                />
            </View>

            {/* Stats Section */}
            <View style={styles.statsContainer}>
                <View style={styles.statItem}>
                    <Text style={styles.statValue}>Lvl 1</Text>
                    <Text style={styles.statLabel}>Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ MoiMoi</Text>
                </View>
                <View style={styles.statItem}>
                    <Text style={styles.statValue}>{userData?.moimoiName || 'Moi'}</Text>
                    <Text style={styles.statLabel}>Ğ˜Ğ¼Ñ MoiMoi</Text>
                </View>
                <View style={styles.statItem}>
                    <Text style={styles.statValue}>{completedTasks}</Text>
                    <Text style={styles.statLabel}>Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¾</Text>
                </View>
            </View>

            {/* Tasks Section */}
            <View style={styles.tasksContainer}>
                <View style={styles.tasksHeader}>
                    <Text style={styles.tasksTitle}>Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½ÑÑˆĞ½Ğ¸Ğµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸</Text>
                    <Text style={styles.tasksCounter}>{tasks.length} Ğ·Ğ°Ğ´Ğ°Ñ‡</Text>
                </View>

                <ScrollView style={styles.tasksList} showsVerticalScrollIndicator={false}>
                    {tasks.length === 0 ? (
                        <View style={styles.emptyState}>
                            <Ionicons name="checkmark-done-circle-outline" size={64} color="#bb69f2" />
                            <Text style={styles.emptyText}>ĞŸĞ¾ĞºĞ° Ğ½ĞµÑ‚ Ğ·Ğ°Ğ´Ğ°Ñ‡</Text>
                            <Text style={styles.emptySubtext}>Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ ÑĞ²Ğ¾Ñ Ğ¿ĞµÑ€Ğ²ÑƒÑ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ!</Text>
                        </View>
                    ) : (
                        tasks.map((task) => (
                            <View key={task.id} style={styles.taskItem}>
                                <TouchableOpacity
                                    style={[
                                        styles.checkbox,
                                        task.completed && styles.checkboxCompleted
                                    ]}
                                    onPress={() => toggleTask(task.id)}
                                >
                                    {task.completed && (
                                        <Ionicons name="checkmark" size={16} color="white" />
                                    )}
                                </TouchableOpacity>
                                <Text style={[
                                    styles.taskText,
                                    task.completed && styles.taskTextCompleted
                                ]}>
                                    {task.text}
                                </Text>
                                <TouchableOpacity
                                    style={styles.deleteButton}
                                    onPress={() => deleteTask(task.id)}
                                >
                                    <Ionicons name="trash-outline" size={18} color="#ff6b6b" />
                                </TouchableOpacity>
                            </View>
                        ))
                    )}
                </ScrollView>
            </View>

            {/* Floating Action Button */}
            <TouchableOpacity
                style={styles.fab}
                onPress={() => setShowAddTask(true)}
            >
                <Ionicons name="add" size={28} color="white" />
            </TouchableOpacity>

            {/* Add Task Modal */}
            <Modal
                visible={showAddTask}
                animationType="fade"
                transparent statusBarTranslucent
            >
                <View style={styles.modalContainer}>
                    <View style={styles.modalContent}>
                        <Text style={styles.modalTitle}>ĞĞ¾Ğ²Ğ°Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ°</Text>
                        <TextInput
                            style={styles.taskInput}
                            placeholder="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ..."
                            value={newTask}
                            onChangeText={setNewTask}
                            multiline
                        />
                        <View style={styles.modalButtons}>
                            <TouchableOpacity
                                style={styles.cancelButton}
                                onPress={() => setShowAddTask(false)}
                            >
                                <Text style={styles.cancelButtonText}>ĞÑ‚Ğ¼ĞµĞ½Ğ°</Text>
                            </TouchableOpacity>
                            <TouchableOpacity
                                style={[
                                    styles.addButton,
                                    !newTask.trim() && styles.addButtonDisabled
                                ]}
                                onPress={addTask}
                                disabled={!newTask.trim()}
                            >
                                <Text style={styles.addButtonText}>Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ</Text>
                            </TouchableOpacity>
                        </View>
                    </View>
                </View>
            </Modal>
        </View>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        backgroundColor: '#f8f9fa',
    },
    header: {
        padding: 20,
        paddingTop: 60,
        backgroundColor: '#bb69f2',
    },
    welcomeText: {
        color: 'white',
        fontSize: 18,
        fontWeight: '500',
    },
    moimoiText: {
        color: 'white',
        fontSize: 32,
        fontWeight: 'bold',
        marginTop: 5,
    },
    moimoiContainer: {
        alignItems: 'center',
        marginTop: -25,
        marginBottom: 10,
    },
    moimoiAnimation: {
        width: 250,
        height: 250,
    },
    statsContainer: {
        flexDirection: 'row',
        justifyContent: 'space-around',
        paddingHorizontal: 20,
        marginBottom: 20,
    },
    statItem: {
        alignItems: 'center',
        backgroundColor: 'white',
        padding: 15,
        borderRadius: 16,
        minWidth: 80,
        shadowColor: '#bb69f2',
        shadowOffset: {
            width: 0,
            height: 2,
        },
        shadowOpacity: 0.1,
        shadowRadius: 8,
        elevation: 5,
    },
    statValue: {
        fontSize: 18,
        fontWeight: 'bold',
        color: '#333',
        marginBottom: 5,
    },
    statLabel: {
        fontSize: 12,
        color: '#666',
        fontWeight: '500',
    },
    tasksContainer: {
        flex: 1,
        backgroundColor: 'white',
        borderTopLeftRadius: 30,
        borderTopRightRadius: 30,
        padding: 20,
    },
    tasksHeader: {
        flexDirection: 'row',
        justifyContent: 'space-between',
        alignItems: 'center',
        marginBottom: 20,
    },
    tasksTitle: {
        fontSize: 24,
        fontWeight: 'bold',
        color: '#333',
    },
    tasksCounter: {
        fontSize: 14,
        color: '#bb69f2',
        fontWeight: '600',
    },
    tasksList: {
        flex: 1,
    },
    emptyState: {
        alignItems: 'center',
        justifyContent: 'center',
        paddingVertical: 60,
    },
    emptyText: {
        fontSize: 18,
        color: '#666',
        marginTop: 16,
        fontWeight: '500',
    },
    emptySubtext: {
        fontSize: 14,
        color: '#999',
        marginTop: 8,
    },
    taskItem: {
        flexDirection: 'row',
        alignItems: 'center',
        backgroundColor: '#f8f9fa',
        padding: 16,
        borderRadius: 12,
        marginBottom: 10,
        borderLeftWidth: 4,
        borderLeftColor: '#bb69f2',
    },
    checkbox: {
        width: 24,
        height: 24,
        borderRadius: 12,
        borderWidth: 2,
        borderColor: '#bb69f2',
        justifyContent: 'center',
        alignItems: 'center',
        marginRight: 12,
    },
    checkboxCompleted: {
        backgroundColor: '#bb69f2',
        borderColor: '#bb69f2',
    },
    taskText: {
        flex: 1,
        fontSize: 16,
        color: '#333',
    },
    taskTextCompleted: {
        textDecorationLine: 'line-through',
        color: '#999',
    },
    deleteButton: {
        padding: 4,
    },
    fab: {
        position: 'absolute',
        right: 20,
        bottom: 60,
        width: 60,
        height: 60,
        borderRadius: 30,
        backgroundColor: '#69a4fe',
        justifyContent: 'center',
        alignItems: 'center',
        shadowColor: '#69a4fe',
        shadowOffset: {
            width: 0,
            height: 4,
        },
        shadowOpacity: 0.3,
        shadowRadius: 8,
        elevation: 8,
    },
    modalContainer: {
        flex: 1,
        justifyContent: 'center',
        alignItems: 'center',
        backgroundColor: 'rgba(0, 0, 0, 0.5)',
        padding: 20,
    },
    modalContent: {
        backgroundColor: 'white',
        borderRadius: 20,
        padding: 24,
        width: '100%',
        shadowColor: '#000',
        shadowOffset: {
            width: 0,
            height: 2,
        },
        shadowOpacity: 0.25,
        shadowRadius: 8,
        elevation: 5,
    },
    modalTitle: {
        fontSize: 20,
        fontWeight: 'bold',
        marginBottom: 16,
        color: '#333',
        textAlign: 'center',
    },
    taskInput: {
        borderWidth: 1,
        borderColor: '#e9ecef',
        borderRadius: 12,
        padding: 16,
        fontSize: 16,
        minHeight: 100,
        textAlignVertical: 'top',
        marginBottom: 20,
        backgroundColor: '#f8f9fa',
    },
    modalButtons: {
        flexDirection: 'row',
        justifyContent: 'space-between',
    },
    cancelButton: {
        flex: 1,
        padding: 16,
        borderRadius: 12,
        backgroundColor: '#f8f9fa',
        marginRight: 10,
        alignItems: 'center',
    },
    cancelButtonText: {
        color: '#666',
        fontSize: 16,
        fontWeight: '500',
    },
    addButton: {
        flex: 1,
        padding: 16,
        borderRadius: 12,
        backgroundColor: '#69a4fe',
        marginLeft: 10,
        alignItems: 'center',
    },
    addButtonDisabled: {
        backgroundColor: '#ccc',
    },
    addButtonText: {
        color: 'white',
        fontSize: 16,
        fontWeight: '600',
    },
});
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ğ¤ĞĞ™Ğ›: src\screens\Main\ProfileScreen.js                                      â•‘
â•‘ ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: JavaScript                                                        â•‘
â•‘ ĞŸĞĞ›ĞĞ«Ğ™ ĞŸĞ£Ğ¢Ğ¬: C:\Users\MSI\Desktop\MoiMoi\MoiMoi\src\screens\Main\ProfileScreen.js â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import React, { useState, useEffect } from 'react';
import { View, Text, StyleSheet, ScrollView, TouchableOpacity, Image, Alert, Modal, TextInput, BackHandler } from 'react-native';
import { Ionicons } from '@expo/vector-icons';
import { useNavigation, useFocusEffect } from '@react-navigation/native';
import AsyncStorage from '@react-native-async-storage/async-storage';
import LottieView from 'lottie-react-native';
import { BlurView } from 'expo-blur';

export default function ProfileScreen() {
    const [userData, setUserData] = useState(null);
    const [loading, setLoading] = useState(true);
    const [friends, setFriends] = useState([]);
    const [showAddFriendModal, setShowAddFriendModal] = useState(false);
    const [showAchievementsModal, setShowAchievementsModal] = useState(false);
    const [showMedalsModal, setShowMedalsModal] = useState(false);
    const [friendCode, setFriendCode] = useState('');
    const [streakDays, setStreakDays] = useState(0);
    const navigation = useNavigation();

    useFocusEffect(
        React.useCallback(() => {
            loadUserData();
            loadFriends();
            loadStreak();
        }, [])
    );

    const loadUserData = async () => {
        try {
            const userDataString = await AsyncStorage.getItem('userData');
            if (userDataString) {
                setUserData(JSON.parse(userDataString));
            }
        } catch (error) {
            console.error('Error loading user data:', error);
        } finally {
            setLoading(false);
        }
    };

    const loadFriends = async () => {
        try {
            const friendsData = await AsyncStorage.getItem('userFriends');
            if (friendsData) {
                setFriends(JSON.parse(friendsData));
            }
        } catch (error) {
            console.error('Error loading friends:', error);
        }
    };

    const loadStreak = async () => {
        try {
            const streakData = await AsyncStorage.getItem('userStreak');
            const completedTasks = await AsyncStorage.getItem('completedTasksToday');

            let currentStreak = streakData ? parseInt(streakData) : 0;

            // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼, Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ñ‹ Ğ»Ğ¸ ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸
            if (completedTasks === 'true') {
                const lastActiveDate = await AsyncStorage.getItem('lastActiveDate');
                const today = new Date().toDateString();

                if (lastActiveDate !== today) {
                    // ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ - ÑƒĞ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ğ²Ğ°ĞµĞ¼ streak
                    currentStreak += 1;
                    await AsyncStorage.setItem('userStreak', currentStreak.toString());
                    await AsyncStorage.setItem('lastActiveDate', today);
                }
            }

            setStreakDays(currentStreak);
        } catch (error) {
            console.error('Error loading streak:', error);
        }
    };


    const handleSettingsPress = () => {
        const parentNavigation = navigation.getParent();
        if (parentNavigation) {
            parentNavigation.navigate('Settings');
        } else {
            console.warn('Parent navigator not available');
            // ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸
            navigation.navigate('Main', { screen: 'Settings' });
        }
    };

    const copyProfileLink = () => {
        const profileLink = `moimoi://profile/${userData?.id || 'user'}`;
        Alert.alert('Ğ¡ÑÑ‹Ğ»ĞºĞ° ÑĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ°!', `Ğ’Ğ°ÑˆĞ° ÑÑÑ‹Ğ»ĞºĞ°: ${profileLink}`);
    };

    const addFriend = async () => {
        if (friendCode.trim()) {
            const newFriend = {
                id: Date.now().toString(),
                name: `Ğ”Ñ€ÑƒĞ³ ${friends.length + 1}`,
                avatar: null,
                joinedDate: new Date().toISOString(),
                level: Math.floor(Math.random() * 10) + 1,
                code: friendCode,
                streak: Math.floor(Math.random() * 30) + 1
            };

            const updatedFriends = [...friends, newFriend];
            setFriends(updatedFriends);
            await AsyncStorage.setItem('userFriends', JSON.stringify(updatedFriends));
            setFriendCode('');
            setShowAddFriendModal(false);
            Alert.alert('Ğ£ÑĞ¿ĞµÑ…!', 'Ğ”Ñ€ÑƒĞ³ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½ Ğ² Ğ²Ğ°Ñˆ ÑĞ¿Ğ¸ÑĞ¾Ğº');
        }
    };

    const achievements = [
        { id: 1, name: 'ĞŸĞµÑ€Ğ²Ğ°Ñ Ğ¿Ñ€Ğ¸Ğ²Ñ‹Ñ‡ĞºĞ°', description: 'Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ ÑĞ²Ğ¾Ñ Ğ¿ĞµÑ€Ğ²ÑƒÑ Ğ¿Ñ€Ğ¸Ğ²Ñ‹Ñ‡ĞºÑƒ', completed: true, icon: 'star', progress: 100 },
        { id: 2, name: 'ĞĞµĞ´ĞµĞ»Ñ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸', description: 'Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞ¹Ñ‚Ğµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ 7 Ğ´Ğ½ĞµĞ¹ Ğ¿Ğ¾Ğ´Ñ€ÑĞ´', completed: true, icon: 'calendar', progress: 100 },
        { id: 3, name: 'ĞœĞ°ÑÑ‚ĞµÑ€ Ğ¿Ñ€Ğ¸Ğ²Ñ‹Ñ‡ĞµĞº', description: 'Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ 30 Ğ¿Ñ€Ğ¸Ğ²Ñ‹Ñ‡ĞµĞº', completed: false, icon: 'trophy', progress: 45 },
        { id: 4, name: 'Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ±Ğ°Ğ±Ğ¾Ñ‡ĞºĞ°', description: 'Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ 5 Ğ´Ñ€ÑƒĞ·ĞµĞ¹', completed: false, icon: 'people', progress: 20 },
        { id: 5, name: 'Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³', description: 'Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ñ‚Ğµ 10 ÑƒĞ´Ğ°Ñ€Ğ½Ñ‹Ñ… Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ¾Ğ²', completed: false, icon: 'flash', progress: 60 },
        { id: 6, name: 'Ğ›ĞµĞ³ĞµĞ½Ğ´Ğ°', description: 'Ğ”Ğ¾ÑÑ‚Ğ¸Ğ³Ğ½Ğ¸Ñ‚Ğµ 100-Ğ´Ğ½ĞµĞ²Ğ½Ğ¾Ğ³Ğ¾ ÑÑ‚Ñ€Ğ¸ĞºĞ°', completed: false, icon: 'diamond', progress: 12 },
    ];

    const medals = [
        { id: 1, month: 'Ğ¯Ğ½Ğ²Ğ°Ñ€ÑŒ', year: '2024', type: 'gold', earned: true, description: 'Ğ—Ğ¾Ğ»Ğ¾Ñ‚Ğ°Ñ Ğ¼ĞµĞ´Ğ°Ğ»ÑŒ Ğ·Ğ° Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ' },
        { id: 2, month: 'Ğ¤ĞµĞ²Ñ€Ğ°Ğ»ÑŒ', year: '2024', type: 'gold', earned: true, description: 'Ğ—Ğ¾Ğ»Ğ¾Ñ‚Ğ°Ñ Ğ¼ĞµĞ´Ğ°Ğ»ÑŒ Ğ·Ğ° ÑÑ‚Ñ€Ğ¸Ğº' },
        { id: 3, month: 'ĞœĞ°Ñ€Ñ‚', year: '2024', type: 'silver', earned: true, description: 'Ğ¡ĞµÑ€ĞµĞ±Ñ€ÑĞ½Ğ°Ñ Ğ¼ĞµĞ´Ğ°Ğ»ÑŒ Ğ·Ğ° Ğ´Ñ€ÑƒĞ·ĞµĞ¹' },
        { id: 4, month: 'ĞĞ¿Ñ€ĞµĞ»ÑŒ', year: '2024', type: 'bronze', earned: false, description: 'Ğ‘Ñ€Ğ¾Ğ½Ğ·Ğ¾Ğ²Ğ°Ñ Ğ¼ĞµĞ´Ğ°Ğ»ÑŒ Ğ·Ğ° Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ' },
        { id: 5, month: 'ĞœĞ°Ğ¹', year: '2024', type: 'gold', earned: false, description: 'Ğ—Ğ¾Ğ»Ğ¾Ñ‚Ğ°Ñ Ğ¼ĞµĞ´Ğ°Ğ»ÑŒ Ğ·Ğ° Ğ¼Ğ°ÑÑ‚ĞµÑ€ÑÑ‚Ğ²Ğ¾' },
        { id: 6, month: 'Ğ˜ÑĞ½ÑŒ', year: '2024', type: 'silver', earned: false, description: 'Ğ¡ĞµÑ€ĞµĞ±Ñ€ÑĞ½Ğ°Ñ Ğ¼ĞµĞ´Ğ°Ğ»ÑŒ Ğ·Ğ° Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑ' },
    ];

    if (loading) {
        return (
            <View style={styles.container}>
                <LottieView
                    source={require('../../../assets/Animations/loading.json')}
                    autoPlay
                    loop
                    style={styles.animation}
                />
                <Text style={styles.loadingText}>Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ...</Text>
            </View>
        );
    }

    if (!userData) {
        return (
            <View style={styles.container}>
                <LottieView
                    source={require('../../../assets/Animations/Error.json')}
                    autoPlay
                    loop
                    style={styles.animation}
                />
                <Text style={styles.emptyText}>Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ñ‹</Text>
                <TouchableOpacity style={styles.retryButton} onPress={loadUserData}>
                    <Text style={styles.retryButtonText}>ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑĞ½Ğ¾Ğ²Ğ°</Text>
                </TouchableOpacity>
            </View>
        );
    }

    return (
        <View style={styles.container}>
            <ScrollView style={styles.scrollView} showsVerticalScrollIndicator={false}>
                {/* Header Ñ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ¾Ğ¼ Ğ¿Ğ¾ Ñ†ĞµĞ½Ñ‚Ñ€Ñƒ */}
                <View style={styles.header}>


                    <View style={styles.avatarContainer}>
                        {userData.avatar ? (
                            <Image source={{ uri: userData.avatar }} style={styles.avatar} />
                        ) : (
                            <View style={styles.avatarPlaceholder}>
                                <Ionicons name="person" size={50} color="#bb69f2" />
                            </View>
                        )}
                    </View>

                    <View style={styles.userInfo}>
                        <Text style={styles.userName}>{userData.name}</Text>
                        <Text style={styles.userLevel}>Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ 5 â€¢ {userData.moimoiName || 'Moi'}</Text>
                    </View>

                    {/* Ğ£Ğ´Ğ°Ñ€Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼ - ÑÑ‚Ñ€Ğ¸Ğº */}
                    <View style={styles.streakContainer}>
                        <View style={styles.streakContent}>
                            <Ionicons name="flame" size={24} color="#FF6B35" />
                            <View style={styles.streakInfo}>
                                <Text style={styles.streakDays}>{streakDays} Ğ´Ğ½ĞµĞ¹</Text>
                                <Text style={styles.streakLabel}>Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ ÑÑ‚Ñ€Ğ¸Ğº</Text>
                            </View>
                        </View>
                        <View style={styles.streakFire}></View>
                    </View>
                </View>

                {/* Ğ‘Ğ»Ğ¾Ğº Ñ ÑƒĞ´Ğ°Ñ€Ğ½Ñ‹Ğ¼Ğ¸ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ°Ğ¼Ğ¸ */}
                <View style={styles.section}>
                    <Text style={styles.sectionTitle}>Ğ£Ğ´Ğ°Ñ€Ğ½Ñ‹Ğµ Ñ€ĞµĞ¶Ğ¸Ğ¼Ñ‹ âš¡</Text>
                    <View style={styles.modesContainer}>
                        <TouchableOpacity style={styles.modeCard}>
                            <View style={styles.modeIconContainer}>
                                <Ionicons name="flash" size={28} color="#FF6B6B" />
                            </View>
                            <Text style={styles.modeText}>Ğ˜Ğ½Ñ‚ĞµĞ½ÑĞ¸Ğ²</Text>
                            <Text style={styles.modeSubtext}>15 Ğ¼Ğ¸Ğ½</Text>
                        </TouchableOpacity>
                        <TouchableOpacity style={styles.modeCard}>
                            <View style={styles.modeIconContainer}>
                                <Ionicons name="time" size={28} color="#4ECDC4" />
                            </View>
                            <Text style={styles.modeText}>Ğ•Ğ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ñ‹Ğ¹</Text>
                            <Text style={styles.modeSubtext}>5 Ğ¼Ğ¸Ğ½</Text>
                        </TouchableOpacity>
                        <TouchableOpacity style={styles.modeCard}>
                            <View style={styles.modeIconContainer}>
                                <Ionicons name="trophy" size={28} color="#FFD93D" />
                            </View>
                            <Text style={styles.modeText}>Ğ¡Ğ¾Ñ€ĞµĞ²Ğ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ</Text>
                            <Text style={styles.modeSubtext}>Ğ¡ Ğ´Ñ€ÑƒĞ·ÑŒÑĞ¼Ğ¸</Text>
                        </TouchableOpacity>
                    </View>
                </View>

                {/* Ğ‘Ğ»Ğ¾Ğº Ñ Ğ´Ñ€ÑƒĞ·ÑŒÑĞ¼Ğ¸ */}
                <View style={styles.section}>
                    <View style={styles.sectionHeader}>
                        <Text style={styles.sectionTitle}>Ğ”Ñ€ÑƒĞ·ÑŒÑ ğŸ‘¥</Text>
                        <TouchableOpacity style={styles.addButton} onPress={() => setShowAddFriendModal(true)}>
                            <Ionicons name="add" size={20} color="#bb69f2" />
                            <Text style={styles.addButtonText}>Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ</Text>
                        </TouchableOpacity>
                    </View>

                    <TouchableOpacity style={styles.shareCard} onPress={copyProfileLink}>
                        <View style={styles.shareIcon}>
                            <Ionicons name="link" size={20} color="#bb69f2" />
                        </View>
                        <Text style={styles.shareText}>Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑÑÑ‹Ğ»ĞºÑƒ Ğ½Ğ° Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ</Text>
                        <Ionicons name="chevron-forward" size={16} color="#999" />
                    </TouchableOpacity>

                    <View style={styles.friendsContainer}>
                        {friends.length > 0 ? (
                            <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.friendsScroll}>
                                {friends.map((friend, index) => (
                                    <View key={friend.id} style={styles.friendCircle}>
                                        <View style={styles.friendAvatar}>
                                            <Ionicons name="person" size={20} color="#666" />
                                        </View>
                                        <Text style={styles.friendName} numberOfLines={1}>
                                            {friend.name}
                                        </Text>
                                        <View style={styles.friendStreak}>
                                            <Ionicons name="flame" size={12} color="#FF6B35" />
                                            <Text style={styles.friendStreakText}>{friend.streak}</Text>
                                        </View>
                                    </View>
                                ))}
                                {/* ĞŸÑƒÑÑ‚Ñ‹Ğµ ĞºÑ€ÑƒĞ¶ĞºĞ¸ Ğ´Ğ»Ñ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ */}
                                {Array.from({ length: Math.max(0, 6 - friends.length) }).map((_, index) => (
                                    <View key={`empty-${index}`} style={styles.emptyFriendCircle}>
                                        <Ionicons name="person-add" size={20} color="#ccc" />
                                        <Text style={styles.emptyFriendText}>Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ</Text>
                                    </View>
                                ))}
                            </ScrollView>
                        ) : (
                            <View style={styles.emptyFriends}>
                                <View style={styles.emptyFriendsCircles}>
                                    {Array.from({ length: 3 }).map((_, index) => (
                                        <View key={index} style={styles.emptyFriendCircle}>
                                            <View style={styles.dashedBorder}>
                                                <Ionicons name="person-add" size={20} color="#ccc" />
                                            </View>
                                        </View>
                                    ))}
                                </View>
                                <Text style={styles.emptyFriendsText}>ĞŸĞ¾ĞºĞ° Ğ½ĞµÑ‚ Ğ´Ñ€ÑƒĞ·ĞµĞ¹</Text>
                                <Text style={styles.emptyFriendsSubtext}>Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ Ğ´Ñ€ÑƒĞ·ĞµĞ¹ Ğ´Ğ»Ñ ÑĞ¾Ñ€ĞµĞ²Ğ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹</Text>
                            </View>
                        )}
                    </View>
                </View>

                {/* Ğ‘Ğ»Ğ¾Ğº Ñ Ğ¼ĞµĞ´Ğ°Ğ»ÑĞ¼Ğ¸ */}
                <View style={styles.section}>
                    <View style={styles.sectionHeader}>
                        <Text style={styles.sectionTitle}>ĞœĞµĞ´Ğ°Ğ»Ğ¸ ğŸ…</Text>
                        <TouchableOpacity onPress={() => setShowMedalsModal(true)}>
                            <Text style={styles.seeAllText}>Ğ’ÑĞµ Ğ¼ĞµĞ´Ğ°Ğ»Ğ¸</Text>
                        </TouchableOpacity>
                    </View>
                    <View style={styles.medalsContainer}>
                        <ScrollView horizontal showsHorizontalScrollIndicator={false} style={styles.medalsScroll}>
                            {medals.slice(0, 4).map((medal) => (
                                <View key={medal.id} style={[styles.medalCard, !medal.earned && styles.medalCardLocked]}>
                                    <View style={styles.medalIconContainer}>
                                        <Ionicons
                                            name={medal.earned ? "medal" : "lock-closed"}
                                            size={32}
                                            color={medal.earned ?
                                                (medal.type === 'gold' ? '#FFD700' :
                                                    medal.type === 'silver' ? '#C0C0C0' : '#CD7F32') : '#ccc'
                                            }
                                        />
                                    </View>
                                    <Text style={styles.medalMonth}>{medal.month}</Text>
                                    <Text style={styles.medalYear}>{medal.year}</Text>
                                    <Text style={styles.medalType}>
                                        {medal.earned ? (medal.type === 'gold' ? 'Ğ—Ğ¾Ğ»Ğ¾Ñ‚Ğ¾' : medal.type === 'silver' ? 'Ğ¡ĞµÑ€ĞµĞ±Ñ€Ğ¾' : 'Ğ‘Ñ€Ğ¾Ğ½Ğ·Ğ°') : 'Ğ—Ğ°Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾'}
                                    </Text>
                                </View>
                            ))}
                        </ScrollView>
                    </View>
                </View>

                {/* Ğ‘Ğ»Ğ¾Ğº Ñ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸ÑĞ¼Ğ¸ */}
                <View style={styles.section}>
                    <View style={styles.sectionHeader}>
                        <Text style={styles.sectionTitle}>Ğ”Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ ğŸ†</Text>
                        <TouchableOpacity onPress={() => setShowAchievementsModal(true)}>
                            <Text style={styles.seeAllText}>Ğ’ÑĞµ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ</Text>
                        </TouchableOpacity>
                    </View>
                    <View style={styles.achievementsGrid}>
                        {achievements.slice(0, 4).map((achievement) => (
                            <View key={achievement.id} style={styles.achievementCard}>
                                <View style={[
                                    styles.achievementIcon,
                                    !achievement.completed && styles.achievementIconLocked
                                ]}>
                                    <Ionicons
                                        name={achievement.icon}
                                        size={24}
                                        color={achievement.completed ? 'white' : '#ccc'}
                                    />
                                </View>
                                <Text style={[
                                    styles.achievementName,
                                    !achievement.completed && styles.achievementNameLocked
                                ]}>
                                    {achievement.name}
                                </Text>
                                <View style={styles.progressBar}>
                                    <View
                                        style={[
                                            styles.progressFill,
                                            { width: `${achievement.progress}%` }
                                        ]}
                                    />
                                </View>
                                <Text style={styles.progressText}>{achievement.progress}%</Text>
                            </View>
                        ))}
                    </View>
                </View>
            </ScrollView>

            {/* ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ´Ñ€ÑƒĞ³Ğ° */}
            <Modal visible={showAddFriendModal} animationType="fade" transparent statusBarTranslucent>
                <BlurView intensity={100} tint='dark' style={styles.modalContainer}>
                    <View style={styles.modalContent}>
                        <Text style={styles.modalTitle}>Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ´Ñ€ÑƒĞ³Ğ°</Text>
                        <Text style={styles.modalSubtitle}>Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ĞºĞ¾Ğ´ Ğ´Ñ€ÑƒĞ³Ğ° Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ĞµĞ³Ğ¾ Ğ² ÑĞ²Ğ¾Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº</Text>

                        <View style={styles.inputContainer}>
                            <Ionicons name="person" size={20} color="#bb69f2" />
                            <TextInput
                                style={styles.input}
                                placeholder="ĞšĞ¾Ğ´ Ğ´Ñ€ÑƒĞ³Ğ°"
                                value={friendCode}
                                onChangeText={setFriendCode}
                                placeholderTextColor="#999"
                            />
                        </View>

                        <View style={styles.modalButtons}>
                            <TouchableOpacity
                                style={styles.cancelButton}
                                onPress={() => setShowAddFriendModal(false)}
                            >
                                <Text style={styles.cancelButtonText}>ĞÑ‚Ğ¼ĞµĞ½Ğ°</Text>
                            </TouchableOpacity>
                            <TouchableOpacity
                                style={[styles.addFriendButton, !friendCode.trim() && styles.buttonDisabled]}
                                onPress={addFriend}
                                disabled={!friendCode.trim()}
                            >
                                <Text style={styles.addFriendButtonText}>Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ´Ñ€ÑƒĞ³Ğ°</Text>
                            </TouchableOpacity>
                        </View>
                    </View>
                </BlurView>
            </Modal>

            {/* ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ğ¹ */}
            <Modal visible={showAchievementsModal} animationType="fade" transparent statusBarTranslucent>
                <BlurView intensity={100} tint='dark' style={styles.modalContainer}>
                    <View style={styles.modalContentLarge}>
                        <Text style={styles.modalTitle}>Ğ’ÑĞµ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ</Text>

                        <ScrollView style={styles.achievementsList} showsVerticalScrollIndicator={false}>
                            {achievements.map((achievement) => (
                                <View key={achievement.id} style={styles.achievementListItem}>
                                    <View style={[
                                        styles.achievementListIcon,
                                        achievement.completed && styles.achievementListIconCompleted
                                    ]}>
                                        <Ionicons
                                            name={achievement.icon}
                                            size={20}
                                            color={achievement.completed ? 'white' : '#ccc'}
                                        />
                                    </View>
                                    <View style={styles.achievementInfo}>
                                        <Text style={styles.achievementListName}>{achievement.name}</Text>
                                        <Text style={styles.achievementListDescription}>
                                            {achievement.description}
                                        </Text>
                                        <View style={styles.progressBar}>
                                            <View
                                                style={[
                                                    styles.progressFill,
                                                    { width: `${achievement.progress}%` }
                                                ]}
                                            />
                                        </View>
                                    </View>
                                    <View style={styles.achievementProgress}>
                                        <Text style={styles.progressPercentage}>{achievement.progress}%</Text>
                                        {achievement.completed && (
                                            <Ionicons name="checkmark-circle" size={20} color="#4CAF50" />
                                        )}
                                    </View>
                                </View>
                            ))}
                        </ScrollView>

                        <TouchableOpacity
                            style={styles.closeButton}
                            onPress={() => setShowAchievementsModal(false)}
                        >
                            <Text style={styles.closeButtonText}>Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ</Text>
                        </TouchableOpacity>
                    </View>
                </BlurView>
            </Modal>

            {/* ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾ Ğ¼ĞµĞ´Ğ°Ğ»ĞµĞ¹ */}
            <Modal visible={showMedalsModal} animationType="fade" transparent statusBarTranslucent>
                <BlurView intensity={100} tint='dark' style={styles.modalContainer}>
                    <View style={styles.modalContentLarge}>
                        <Text style={styles.modalTitle}>Ğ’ÑĞµ Ğ¼ĞµĞ´Ğ°Ğ»Ğ¸</Text>
                        <Text style={styles.modalSubtitle}>Ğ’Ğ°ÑˆĞ¸ ĞµĞ¶ĞµĞ¼ĞµÑÑÑ‡Ğ½Ñ‹Ğµ Ğ½Ğ°Ğ³Ñ€Ğ°Ğ´Ñ‹ Ğ·Ğ° Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ</Text>

                        <ScrollView style={styles.medalsList} showsVerticalScrollIndicator={false}>
                            <View style={styles.medalsGrid}>
                                {medals.map((medal) => (
                                    <View key={medal.id} style={styles.medalListItem}>
                                        <View style={styles.medalIconLarge}>
                                            <Ionicons
                                                name={medal.earned ? "medal" : "lock-closed"}
                                                size={40}
                                                color={medal.earned ?
                                                    (medal.type === 'gold' ? '#FFD700' :
                                                        medal.type === 'silver' ? '#C0C0C0' : '#CD7F32') : '#ccc'
                                                }
                                            />
                                        </View>
                                        <View style={styles.medalInfo}>
                                            <Text style={styles.medalListName}>
                                                {medal.month} {medal.year}
                                            </Text>
                                            <Text style={styles.medalListDescription}>
                                                {medal.description}
                                            </Text>
                                            <Text style={[
                                                styles.medalListType,
                                                {
                                                    color: medal.earned ?
                                                        (medal.type === 'gold' ? '#FFD700' :
                                                            medal.type === 'silver' ? '#C0C0C0' : '#CD7F32') : '#ccc'
                                                }
                                            ]}>
                                                {medal.earned ?
                                                    (medal.type === 'gold' ? 'Ğ—Ğ¾Ğ»Ğ¾Ñ‚Ğ°Ñ Ğ¼ĞµĞ´Ğ°Ğ»ÑŒ' :
                                                        medal.type === 'silver' ? 'Ğ¡ĞµÑ€ĞµĞ±Ñ€ÑĞ½Ğ°Ñ Ğ¼ĞµĞ´Ğ°Ğ»ÑŒ' : 'Ğ‘Ñ€Ğ¾Ğ½Ğ·Ğ¾Ğ²Ğ°Ñ Ğ¼ĞµĞ´Ğ°Ğ»ÑŒ') :
                                                    'Ğ—Ğ°Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾'
                                                }
                                            </Text>
                                        </View>
                                    </View>
                                ))}
                            </View>
                        </ScrollView>

                        <TouchableOpacity
                            style={styles.closeButton}
                            onPress={() => setShowMedalsModal(false)}
                        >
                            <Text style={styles.closeButtonText}>Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ</Text>
                        </TouchableOpacity>
                    </View>
                </BlurView>
            </Modal>
        </View>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        backgroundColor: '#f8f9fa',
    },
    scrollView: {
        flex: 1,
    },
    header: {
        backgroundColor: 'white',
        padding: 25,
        alignItems: 'center',
        borderBottomLeftRadius: 25,
        borderBottomRightRadius: 25,
        shadowColor: '#000',
        shadowOffset: { width: 0, height: 4 },
        shadowOpacity: 0.1,
        shadowRadius: 12,
        elevation: 5,
    },
    settingsButton: {
        position: 'absolute',
        top: 60,
        right: 25,
        padding: 8,
        borderRadius: 20,
        backgroundColor: '#f8f9fa',
    },
    avatarContainer: {
        marginBottom: 15,
    },
    avatar: {
        width: 100,
        height: 100,
        borderRadius: 50,
    },
    avatarPlaceholder: {
        width: 100,
        height: 100,
        borderRadius: 50,
        backgroundColor: '#f0e6ff',
        justifyContent: 'center',
        alignItems: 'center',
    },
    userInfo: {
        alignItems: 'center',
        marginBottom: 20,
    },
    userName: {
        fontSize: 26,
        fontWeight: 'bold',
        color: '#333',
        marginBottom: 5,
    },
    userLevel: {
        fontSize: 16,
        color: '#666',
        fontWeight: '500',
    },
    streakContainer: {
        backgroundColor: '#FFF5F0',
        padding: 15,
        borderRadius: 16,
        width: '100%',
        borderWidth: 2,
        borderColor: '#FF6B35',
        position: 'relative',
        overflow: 'hidden',
    },
    streakContent: {
        flexDirection: 'row',
        alignItems: 'center',
        zIndex: 2,
    },
    streakInfo: {
        marginLeft: 12,
    },
    streakDays: {
        fontSize: 20,
        fontWeight: 'bold',
        color: '#FF6B35',
    },
    streakLabel: {
        fontSize: 14,
        color: '#666',
    },
    streakFire: {
        position: 'absolute',
        top: -10,
        right: -10,
        width: 60,
        height: 60,
        backgroundColor: '#FF6B35',
        borderRadius: 30,
        opacity: 0.1,
    },
    section: {
        marginTop: 25,
        paddingHorizontal: 20,
    },
    sectionHeader: {
        flexDirection: 'row',
        justifyContent: 'space-between',
        alignItems: 'center',
        marginBottom: 15,
    },
    sectionTitle: {
        fontSize: 20,
        fontWeight: 'bold',
        color: '#333',
        marginBottom: 10,
    },
    seeAllText: {
        color: '#bb69f2',
        fontSize: 14,
        fontWeight: '500',
    },
    modesContainer: {
        flexDirection: 'row',
        justifyContent: 'space-between',
    },
    modeCard: {
        flex: 1,
        backgroundColor: 'white',
        padding: 18,
        borderRadius: 16,
        alignItems: 'center',
        marginHorizontal: 6,
        shadowColor: '#000',
        shadowOffset: { width: 0, height: 3 },
        shadowOpacity: 0.1,
        shadowRadius: 6,
        elevation: 4,
    },
    modeIconContainer: {
        width: 50,
        height: 50,
        borderRadius: 25,
        backgroundColor: '#f8f9fa',
        justifyContent: 'center',
        alignItems: 'center',
        marginBottom: 10,
    },
    modeText: {
        fontSize: 14,
        fontWeight: '600',
        color: '#333',
        marginBottom: 4,
    },
    modeSubtext: {
        fontSize: 12,
        color: '#666',
    },
    addButton: {
        flexDirection: 'row',
        alignItems: 'center',
        backgroundColor: '#f0e6ff',
        paddingHorizontal: 12,
        paddingVertical: 6,
        borderRadius: 20,
    },
    addButtonText: {
        color: '#bb69f2',
        fontSize: 14,
        fontWeight: '500',
        marginLeft: 4,
    },
    shareCard: {
        flexDirection: 'row',
        alignItems: 'center',
        backgroundColor: 'white',
        padding: 16,
        borderRadius: 16,
        marginBottom: 20,
        shadowColor: '#000',
        shadowOffset: { width: 0, height: 2 },
        shadowOpacity: 0.1,
        shadowRadius: 4,
        elevation: 3,
    },
    shareIcon: {
        width: 36,
        height: 36,
        borderRadius: 18,
        backgroundColor: '#f0e6ff',
        justifyContent: 'center',
        alignItems: 'center',
        marginRight: 12,
    },
    shareText: {
        flex: 1,
        fontSize: 16,
        color: '#333',
        fontWeight: '500',
    },
    friendsContainer: {
        marginBottom: 10,
    },
    friendsScroll: {
        marginHorizontal: -5,
    },
    friendCircle: {
        alignItems: 'center',
        marginHorizontal: 8,
        width: 70,
    },
    friendAvatar: {
        width: 60,
        height: 60,
        borderRadius: 30,
        backgroundColor: '#f8f9fa',
        justifyContent: 'center',
        alignItems: 'center',
        marginBottom: 8,
        borderWidth: 2,
        borderColor: '#bb69f2',
    },
    friendName: {
        fontSize: 11,
        fontWeight: '500',
        color: '#333',
        textAlign: 'center',
        marginBottom: 4,
    },
    friendStreak: {
        flexDirection: 'row',
        alignItems: 'center',
        backgroundColor: '#FFF5F0',
        paddingHorizontal: 6,
        paddingVertical: 2,
        borderRadius: 10,
    },
    friendStreakText: {
        fontSize: 10,
        color: '#FF6B35',
        fontWeight: '600',
        marginLeft: 2,
    },
    emptyFriendCircle: {
        alignItems: 'center',
        marginHorizontal: 8,
        width: 70,
    },
    dashedBorder: {
        width: 60,
        height: 60,
        borderRadius: 30,
        borderWidth: 2,
        borderColor: '#ccc',
        borderStyle: 'dashed',
        justifyContent: 'center',
        alignItems: 'center',
        marginBottom: 8,
    },
    emptyFriendText: {
        fontSize: 11,
        color: '#999',
        textAlign: 'center',
    },
    emptyFriends: {
        alignItems: 'center',
        padding: 30,
        backgroundColor: 'white',
        borderRadius: 16,
    },
    emptyFriendsCircles: {
        flexDirection: 'row',
        flexWrap: 'wrap',
        justifyContent: 'center',
        marginBottom: 20,
    },
    emptyFriendsText: {
        fontSize: 16,
        color: '#666',
        marginBottom: 5,
    },
    emptyFriendsSubtext: {
        fontSize: 12,
        color: '#999',
        textAlign: 'center',
    },
    medalsContainer: {
        backgroundColor: 'white',
        borderRadius: 16,
        padding: 15,
        shadowColor: '#000',
        shadowOffset: { width: 0, height: 2 },
        shadowOpacity: 0.1,
        shadowRadius: 4,
        elevation: 3,
    },
    medalsScroll: {
        marginHorizontal: -5,
    },
    medalCard: {
        alignItems: 'center',
        marginHorizontal: 10,
        padding: 15,
        backgroundColor: '#f8f9fa',
        borderRadius: 12,
        minWidth: 100,
    },
    medalCardLocked: {
        opacity: 0.6,
    },
    medalIconContainer: {
        marginBottom: 8,
    },
    medalMonth: {
        fontSize: 14,
        fontWeight: '600',
        color: '#333',
        marginBottom: 2,
    },
    medalYear: {
        fontSize: 12,
        color: '#666',
        marginBottom: 4,
    },
    medalType: {
        fontSize: 10,
        color: '#999',
        fontWeight: '500',
    },
    achievementsGrid: {
        flexDirection: 'row',
        flexWrap: 'wrap',
        justifyContent: 'space-between',
    },
    achievementCard: {
        width: '48%',
        backgroundColor: 'white',
        padding: 15,
        borderRadius: 16,
        alignItems: 'center',
        marginBottom: 15,
        shadowColor: '#000',
        shadowOffset: { width: 0, height: 2 },
        shadowOpacity: 0.1,
        shadowRadius: 4,
        elevation: 3,
    },
    achievementIcon: {
        width: 50,
        height: 50,
        borderRadius: 25,
        backgroundColor: '#bb69f2',
        justifyContent: 'center',
        alignItems: 'center',
        marginBottom: 10,
    },
    achievementIconLocked: {
        backgroundColor: '#f0f0f0',
    },
    achievementName: {
        fontSize: 13,
        fontWeight: '600',
        color: '#333',
        marginBottom: 8,
        textAlign: 'center',
    },
    achievementNameLocked: {
        color: '#ccc',
    },
    progressBar: {
        width: '100%',
        height: 4,
        backgroundColor: '#f0f0f0',
        borderRadius: 2,
        marginBottom: 4,
        overflow: 'hidden',
    },
    progressFill: {
        height: '100%',
        backgroundColor: '#bb69f2',
        borderRadius: 2,
    },
    progressText: {
        fontSize: 10,
        color: '#666',
        fontWeight: '500',
    },
    modalContainer: {
        flex: 1,
        justifyContent: 'center',
        alignItems: 'center',
        padding: 20,
    },
    modalContent: {
        backgroundColor: 'white',
        borderRadius: 25,
        padding: 25,
        width: '100%',
        maxWidth: 400,
        shadowColor: '#000',
        shadowOffset: { width: 0, height: 10 },
        shadowOpacity: 0.3,
        shadowRadius: 20,
        elevation: 10,
    },
    modalContentLarge: {
        backgroundColor: 'white',
        borderRadius: 25,
        padding: 25,
        width: '100%',
        maxWidth: 400,
        maxHeight: '80%',
        shadowColor: '#000',
        shadowOffset: { width: 0, height: 10 },
        shadowOpacity: 0.3,
        shadowRadius: 20,
        elevation: 10,
    },
    modalTitle: {
        fontSize: 24,
        fontWeight: 'bold',
        color: '#333',
        marginBottom: 8,
        textAlign: 'center',
    },
    modalSubtitle: {
        fontSize: 16,
        color: '#666',
        textAlign: 'center',
        marginBottom: 25,
        lineHeight: 20,
    },
    inputContainer: {
        flexDirection: 'row',
        alignItems: 'center',
        backgroundColor: '#f8f9fa',
        borderRadius: 16,
        paddingHorizontal: 15,
        paddingVertical: 12,
        marginBottom: 25,
    },
    input: {
        flex: 1,
        fontSize: 16,
        color: '#333',
        marginLeft: 10,
    },
    modalButtons: {
        flexDirection: 'row',
        justifyContent: 'space-between',
    },
    cancelButton: {
        flex: 1,
        padding: 16,
        borderRadius: 16,
        backgroundColor: '#f8f9fa',
        marginRight: 10,
        alignItems: 'center',
    },
    cancelButtonText: {
        color: '#666',
        fontSize: 16,
        fontWeight: '500',
    },
    addFriendButton: {
        flex: 1,
        padding: 16,
        borderRadius: 16,
        backgroundColor: '#bb69f2',
        marginLeft: 10,
        alignItems: 'center',
    },
    buttonDisabled: {
        backgroundColor: '#ccc',
    },
    addFriendButtonText: {
        color: 'white',
        fontSize: 16,
        fontWeight: '600',
    },
    achievementsList: {
        maxHeight: 400,
    },
    achievementListItem: {
        flexDirection: 'row',
        alignItems: 'center',
        padding: 15,
        backgroundColor: '#f8f9fa',
        borderRadius: 16,
        marginBottom: 10,
    },
    achievementListIcon: {
        width: 40,
        height: 40,
        borderRadius: 20,
        backgroundColor: '#f0f0f0',
        justifyContent: 'center',
        alignItems: 'center',
        marginRight: 15,
    },
    achievementListIconCompleted: {
        backgroundColor: '#bb69f2',
    },
    achievementInfo: {
        flex: 1,
    },
    achievementListName: {
        fontSize: 16,
        fontWeight: '600',
        color: '#333',
        marginBottom: 4,
    },
    achievementListDescription: {
        fontSize: 12,
        color: '#666',
        marginBottom: 8,
    },
    achievementProgress: {
        alignItems: 'flex-end',
    },
    progressPercentage: {
        fontSize: 14,
        fontWeight: '600',
        color: '#333',
        marginBottom: 4,
    },
    medalsList: {
        maxHeight: 400,
    },
    medalsGrid: {
        flexDirection: 'row',
        flexWrap: 'wrap',
        justifyContent: 'space-between',
    },
    medalListItem: {
        width: '48%',
        alignItems: 'center',
        padding: 15,
        backgroundColor: '#f8f9fa',
        borderRadius: 16,
        marginBottom: 15,
    },
    medalIconLarge: {
        marginBottom: 10,
    },
    medalInfo: {
        alignItems: 'center',
    },
    medalListName: {
        fontSize: 14,
        fontWeight: '600',
        color: '#333',
        marginBottom: 4,
    },
    medalListDescription: {
        fontSize: 11,
        color: '#666',
        textAlign: 'center',
        marginBottom: 4,
    },
    medalListType: {
        fontSize: 10,
        fontWeight: '500',
    },
    closeButton: {
        padding: 16,
        borderRadius: 16,
        backgroundColor: '#bb69f2',
        alignItems: 'center',
        marginTop: 15,
    },
    closeButtonText: {
        color: 'white',
        fontSize: 16,
        fontWeight: '600',
    },
    animation: {
        width: 200,
        height: 200,
        marginBottom: 20,
    },
    loadingText: {
        fontSize: 16,
        color: '#666',
    },
    emptyText: {
        fontSize: 18,
        color: '#666',
        marginBottom: 20,
        textAlign: 'center',
    },
    retryButton: {
        backgroundColor: '#bb69f2',
        paddingHorizontal: 30,
        paddingVertical: 12,
        borderRadius: 25,
    },
    retryButtonText: {
        color: 'white',
        fontSize: 16,
        fontWeight: '600',
    },
});
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ğ¤ĞĞ™Ğ›: src\screens\Main\SettingsScreen.js                                     â•‘
â•‘ ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: JavaScript                                                        â•‘
â•‘ ĞŸĞĞ›ĞĞ«Ğ™ ĞŸĞ£Ğ¢Ğ¬: C:\Users\MSI\Desktop\MoiMoi\MoiMoi\src\screens\Main\SettingsScreen.js â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import React, { useState, useEffect } from 'react';
import { View, Text, StyleSheet, ScrollView, TouchableOpacity, Switch, Modal, TextInput, Alert } from 'react-native';
import { Ionicons } from '@expo/vector-icons';
import { BlurView } from 'expo-blur';
import AsyncStorage from '@react-native-async-storage/async-storage';
import { useNavigation } from '@react-navigation/native';

export default function SettingsScreen() {
    const [notificationsEnabled, setNotificationsEnabled] = useState(true);
    const [dailyReminders, setDailyReminders] = useState(true);
    const [soundEnabled, setSoundEnabled] = useState(true);
    const [vibrationEnabled, setVibrationEnabled] = useState(true);
    const [animationsEnabled, setAnimationsEnabled] = useState(true);
    const [effectsEnabled, setEffectsEnabled] = useState(true);
    const [darkMode, setDarkMode] = useState(false);

    const [showEditProfile, setShowEditProfile] = useState(false);
    const [showNotificationsModal, setShowNotificationsModal] = useState(false);
    const [showPrivacyModal, setShowPrivacyModal] = useState(false);
    const [showAppearanceModal, setShowAppearanceModal] = useState(false);

    const [userData, setUserData] = useState(null);
    const [editedName, setEditedName] = useState('');
    const [editedAge, setEditedAge] = useState('');
    const [editedMoiMoiName, setEditedMoiMoiName] = useState('');

    const navigation = useNavigation();

    useEffect(() => {
        loadUserData();
    }, []);

    const loadUserData = async () => {
        try {
            const userDataString = await AsyncStorage.getItem('userData');
            if (userDataString) {
                const data = JSON.parse(userDataString);
                setUserData(data);
                setEditedName(data.name || '');
                setEditedAge(data.age?.toString() || '');
                setEditedMoiMoiName(data.moimoiName || '');
            }
        } catch (error) {
            console.error('Error loading user data:', error);
        }
    };

    const saveUserData = async () => {
        try {
            const updatedData = {
                ...userData,
                name: editedName,
                age: parseInt(editedAge) || 0,
                moimoiName: editedMoiMoiName,
                updatedAt: new Date().toISOString()
            };

            await AsyncStorage.setItem('userData', JSON.stringify(updatedData));
            setUserData(updatedData);
            setShowEditProfile(false);
            Alert.alert('Ğ£ÑĞ¿ĞµÑ…!', 'ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½');
        } catch (error) {
            console.error('Error saving user data:', error);
            Alert.alert('ĞÑˆĞ¸Ğ±ĞºĞ°', 'ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ');
        }
    };

    const handleLogout = () => {
        Alert.alert(
            'Ğ’Ñ‹Ñ…Ğ¾Ğ´',
            'Ğ’Ñ‹ ÑƒĞ²ĞµÑ€ĞµĞ½Ñ‹, Ñ‡Ñ‚Ğ¾ Ñ…Ğ¾Ñ‚Ğ¸Ñ‚Ğµ Ğ²Ñ‹Ğ¹Ñ‚Ğ¸ Ğ¸Ğ· Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğ°?',
            [
                { text: 'ĞÑ‚Ğ¼ĞµĞ½Ğ°', style: 'cancel' },
                {
                    text: 'Ğ’Ñ‹Ğ¹Ñ‚Ğ¸',
                    style: 'destructive',
                    onPress: async () => {
                        try {
                            await AsyncStorage.multiRemove(['isLoggedIn', 'userData', 'hasLaunched']);
                            navigation.reset({
                                index: 0,
                                routes: [{ name: 'Welcome' }],
                            });
                        } catch (error) {
                            console.error('Error during logout:', error);
                        }
                    },
                },
            ]
        );
    };

    const settingsSections = [
        {
            title: 'ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ',
            icon: 'person-outline',
            items: [
                {
                    label: 'Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ',
                    description: 'Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¸Ğ¼Ñ, Ğ²Ğ¾Ğ·Ñ€Ğ°ÑÑ‚ Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ',
                    type: 'link',
                    onPress: () => setShowEditProfile(true),
                    icon: 'create-outline'
                },
                {
                    label: 'ĞœĞ¾Ğ¹ MoiMoi',
                    description: 'ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ½Ğ¸ĞºĞ°',
                    type: 'link',
                    onPress: () => { },
                    icon: 'sparkles-outline'
                }
            ]
        },
        {
            title: 'Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ',
            icon: 'notifications-outline',
            items: [
                {
                    label: 'ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹',
                    description: 'Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ push-ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸ÑĞ¼Ğ¸',
                    type: 'link',
                    onPress: () => setShowNotificationsModal(true),
                    icon: 'notifications-outline'
                },
                {
                    label: 'Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ',
                    value: notificationsEnabled,
                    onValueChange: setNotificationsEnabled,
                    type: 'switch',
                    icon: 'notifications'
                },
                {
                    label: 'Ğ•Ğ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ñ‹Ğµ Ğ½Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ñ',
                    value: dailyReminders,
                    onValueChange: setDailyReminders,
                    type: 'switch',
                    icon: 'alarm-outline'
                },
                {
                    label: 'Ğ—Ğ²ÑƒĞº ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹',
                    value: soundEnabled,
                    onValueChange: setSoundEnabled,
                    type: 'switch',
                    icon: 'volume-medium-outline'
                },
                {
                    label: 'Ğ’Ğ¸Ğ±Ñ€Ğ°Ñ†Ğ¸Ñ',
                    value: vibrationEnabled,
                    onValueChange: setVibrationEnabled,
                    type: 'switch',
                    icon: 'phone-portrait-outline'
                }
            ]
        },
        {
            title: 'Ğ’Ğ½ĞµÑˆĞ½Ğ¸Ğ¹ Ğ²Ğ¸Ğ´',
            icon: 'color-palette-outline',
            items: [
                {
                    label: 'ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¾Ñ„Ğ¾Ñ€Ğ¼Ğ»ĞµĞ½Ğ¸Ñ',
                    description: 'Ğ¢ĞµĞ¼Ñ‹, Ñ†Ğ²ĞµÑ‚Ğ° Ğ¸ ÑˆÑ€Ğ¸Ñ„Ñ‚Ñ‹',
                    type: 'link',
                    onPress: () => setShowAppearanceModal(true),
                    icon: 'brush-outline'
                },
                {
                    label: 'Ğ¢ĞµĞ¼Ğ½Ğ°Ñ Ñ‚ĞµĞ¼Ğ°',
                    value: darkMode,
                    onValueChange: setDarkMode,
                    type: 'switch',
                    icon: 'moon-outline'
                },
                {
                    label: 'ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸',
                    value: animationsEnabled,
                    onValueChange: setAnimationsEnabled,
                    type: 'switch',
                    icon: 'play-outline'
                },
                {
                    label: 'Ğ­Ñ„Ñ„ĞµĞºÑ‚Ñ‹',
                    value: effectsEnabled,
                    onValueChange: setEffectsEnabled,
                    type: 'switch',
                    icon: 'sparkles-outline'
                }
            ]
        },
        {
            title: 'ĞšĞ¾Ğ½Ñ„Ğ¸Ğ´ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ',
            icon: 'shield-checkmark-outline',
            items: [
                {
                    label: 'ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸',
                    description: 'Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ¾Ğ¼',
                    type: 'link',
                    onPress: () => setShowPrivacyModal(true),
                    icon: 'lock-closed-outline'
                },
                {
                    label: 'ĞŸĞ¾Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ´ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸',
                    type: 'link',
                    onPress: () => { },
                    icon: 'document-text-outline'
                },
                {
                    label: 'Ğ£ÑĞ»Ğ¾Ğ²Ğ¸Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ',
                    type: 'link',
                    onPress: () => { },
                    icon: 'reader-outline'
                }
            ]
        },
        {
            title: 'Ğ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¸',
            icon: 'information-circle-outline',
            items: [
                {
                    label: 'Ğ’ĞµÑ€ÑĞ¸Ñ',
                    value: '1.0.0',
                    type: 'value',
                    icon: 'logo-react'
                },
                {
                    label: 'ĞĞ±Ñ€Ğ°Ñ‚Ğ½Ğ°Ñ ÑĞ²ÑĞ·ÑŒ',
                    type: 'link',
                    onPress: () => { },
                    icon: 'chatbubble-outline'
                },
                {
                    label: 'ĞÑ†ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ',
                    type: 'link',
                    onPress: () => { },
                    icon: 'star-outline'
                },
                {
                    label: 'ĞŸĞ¾Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒÑÑ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸ĞµĞ¼',
                    type: 'link',
                    onPress: () => { },
                    icon: 'share-social-outline'
                }
            ]
        }
    ];

    return (
        <View style={styles.container}>
            <ScrollView style={styles.scrollView} showsVerticalScrollIndicator={false}>
                <View style={styles.header}>
                    <Text style={styles.headerTitle}>ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸</Text>
                    <Text style={styles.headerSubtitle}>Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸ĞµĞ¼ Ğ¸ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ĞµĞ¼</Text>
                </View>

                {settingsSections.map((section, sectionIndex) => (
                    <View key={sectionIndex} style={styles.section}>
                        <View style={styles.sectionHeader}>
                            <View style={styles.sectionTitleContainer}>
                                <Ionicons name={section.icon} size={22} color="#bb69f2" />
                                <Text style={styles.sectionTitle}>{section.title}</Text>
                            </View>
                        </View>

                        <View style={styles.sectionContent}>
                            {section.items.map((item, itemIndex) => (
                                <TouchableOpacity
                                    key={itemIndex}
                                    style={styles.settingItem}
                                    onPress={item.onPress}
                                    disabled={!item.onPress}
                                >
                                    <View style={styles.settingLeft}>
                                        {item.icon && (
                                            <Ionicons
                                                name={item.icon}
                                                size={20}
                                                color="#bb69f2"
                                                style={styles.settingIcon}
                                            />
                                        )}
                                        <View style={styles.settingTextContainer}>
                                            <Text style={styles.settingLabel}>{item.label}</Text>
                                            {item.description && (
                                                <Text style={styles.settingDescription}>{item.description}</Text>
                                            )}
                                        </View>
                                    </View>

                                    {item.type === 'switch' && (
                                        <Switch
                                            value={item.value}
                                            onValueChange={item.onValueChange}
                                            trackColor={{ false: '#f0f0f0', true: '#bb69f2' }}
                                            thumbColor={item.value ? '#ffffff' : '#f4f3f4'}
                                        />
                                    )}

                                    {item.type === 'value' && (
                                        <Text style={styles.settingValue}>{item.value}</Text>
                                    )}

                                    {(item.type === 'link' || !item.type) && (
                                        <Ionicons name="chevron-forward" size={20} color="#ccc" />
                                    )}
                                </TouchableOpacity>
                            ))}
                        </View>
                    </View>
                ))}

                <TouchableOpacity style={styles.logoutButton} onPress={handleLogout}>
                    <Ionicons name="log-out-outline" size={20} color="#ff6b6b" />
                    <Text style={styles.logoutText}>Ğ’Ñ‹Ğ¹Ñ‚Ğ¸ Ğ¸Ğ· Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğ°</Text>
                </TouchableOpacity>
            </ScrollView>

            {/* ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾ Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ */}
            <Modal visible={showEditProfile} animationType="fade" transparent statusBarTranslucent>
                <BlurView intensity={100} tint='dark' style={styles.modalContainer}>
                    <View style={styles.modalContent}>
                        <Text style={styles.modalTitle}>Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ</Text>

                        <View style={styles.inputGroup}>
                            <Text style={styles.inputLabel}>Ğ˜Ğ¼Ñ</Text>
                            <View style={styles.inputContainer}>
                                <Ionicons name="person-outline" size={20} color="#bb69f2" />
                                <TextInput
                                    style={styles.input}
                                    placeholder="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ²Ğ°ÑˆĞµ Ğ¸Ğ¼Ñ"
                                    value={editedName}
                                    onChangeText={setEditedName}
                                    placeholderTextColor="#999"
                                />
                            </View>
                        </View>

                        <View style={styles.inputGroup}>
                            <Text style={styles.inputLabel}>Ğ’Ğ¾Ğ·Ñ€Ğ°ÑÑ‚</Text>
                            <View style={styles.inputContainer}>
                                <Ionicons name="calendar-outline" size={20} color="#bb69f2" />
                                <TextInput
                                    style={styles.input}
                                    placeholder="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ²Ğ°Ñˆ Ğ²Ğ¾Ğ·Ñ€Ğ°ÑÑ‚"
                                    value={editedAge}
                                    onChangeText={setEditedAge}
                                    keyboardType="numeric"
                                    placeholderTextColor="#999"
                                />
                            </View>
                        </View>

                        <View style={styles.inputGroup}>
                            <Text style={styles.inputLabel}>Ğ˜Ğ¼Ñ MoiMoi</Text>
                            <View style={styles.inputContainer}>
                                <Ionicons name="sparkles-outline" size={20} color="#bb69f2" />
                                <TextInput
                                    style={styles.input}
                                    placeholder="Ğ˜Ğ¼Ñ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ½Ğ¸ĞºĞ°"
                                    value={editedMoiMoiName}
                                    onChangeText={setEditedMoiMoiName}
                                    placeholderTextColor="#999"
                                />
                            </View>
                        </View>

                        <View style={styles.modalButtons}>
                            <TouchableOpacity
                                style={styles.cancelButton}
                                onPress={() => setShowEditProfile(false)}
                            >
                                <Text style={styles.cancelButtonText}>ĞÑ‚Ğ¼ĞµĞ½Ğ°</Text>
                            </TouchableOpacity>
                            <TouchableOpacity
                                style={styles.saveButton}
                                onPress={saveUserData}
                            >
                                <Text style={styles.saveButtonText}>Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ</Text>
                            </TouchableOpacity>
                        </View>
                    </View>
                </BlurView>
            </Modal>

            {/* ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹ */}
            <Modal visible={showNotificationsModal} animationType="fade" transparent statusBarTranslucent>
                <BlurView intensity={100} tint='dark' style={styles.modalContainer}>
                    <View style={styles.modalContentLarge}>
                        <Text style={styles.modalTitle}>ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹</Text>
                        <Text style={styles.modalSubtitle}>Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ push-ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸ÑĞ¼Ğ¸ Ğ¸ Ğ½Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸ÑĞ¼Ğ¸</Text>

                        <View style={styles.modalSection}>
                            <Text style={styles.modalSectionTitle}>ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ</Text>
                            <View style={styles.modalSettingItem}>
                                <View style={styles.modalSettingLeft}>
                                    <Ionicons name="notifications" size={20} color="#bb69f2" />
                                    <Text style={styles.modalSettingLabel}>Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ</Text>
                                </View>
                                <Switch
                                    value={notificationsEnabled}
                                    onValueChange={setNotificationsEnabled}
                                    trackColor={{ false: '#f0f0f0', true: '#bb69f2' }}
                                    thumbColor={notificationsEnabled ? '#ffffff' : '#f4f3f4'}
                                />
                            </View>
                        </View>

                        <View style={styles.modalSection}>
                            <Text style={styles.modalSectionTitle}>ĞĞ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ñ</Text>
                            <View style={styles.modalSettingItem}>
                                <View style={styles.modalSettingLeft}>
                                    <Ionicons name="alarm-outline" size={20} color="#bb69f2" />
                                    <Text style={styles.modalSettingLabel}>Ğ•Ğ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ñ‹Ğµ Ğ½Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ñ</Text>
                                </View>
                                <Switch
                                    value={dailyReminders}
                                    onValueChange={setDailyReminders}
                                    trackColor={{ false: '#f0f0f0', true: '#bb69f2' }}
                                    thumbColor={dailyReminders ? '#ffffff' : '#f4f3f4'}
                                />
                            </View>
                        </View>

                        <View style={styles.modalSection}>
                            <Text style={styles.modalSectionTitle}>Ğ—Ğ²ÑƒĞº Ğ¸ Ğ²Ğ¸Ğ±Ñ€Ğ°Ñ†Ğ¸Ñ</Text>
                            <View style={styles.modalSettingItem}>
                                <View style={styles.modalSettingLeft}>
                                    <Ionicons name="volume-medium-outline" size={20} color="#bb69f2" />
                                    <Text style={styles.modalSettingLabel}>Ğ—Ğ²ÑƒĞº ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹</Text>
                                </View>
                                <Switch
                                    value={soundEnabled}
                                    onValueChange={setSoundEnabled}
                                    trackColor={{ false: '#f0f0f0', true: '#bb69f2' }}
                                    thumbColor={soundEnabled ? '#ffffff' : '#f4f3f4'}
                                />
                            </View>
                            <View style={styles.modalSettingItem}>
                                <View style={styles.modalSettingLeft}>
                                    <Ionicons name="phone-portrait-outline" size={20} color="#bb69f2" />
                                    <Text style={styles.modalSettingLabel}>Ğ’Ğ¸Ğ±Ñ€Ğ°Ñ†Ğ¸Ñ</Text>
                                </View>
                                <Switch
                                    value={vibrationEnabled}
                                    onValueChange={setVibrationEnabled}
                                    trackColor={{ false: '#f0f0f0', true: '#bb69f2' }}
                                    thumbColor={vibrationEnabled ? '#ffffff' : '#f4f3f4'}
                                />
                            </View>
                        </View>

                        <TouchableOpacity
                            style={styles.closeButton}
                            onPress={() => setShowNotificationsModal(false)}
                        >
                            <Text style={styles.closeButtonText}>Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾</Text>
                        </TouchableOpacity>
                    </View>
                </BlurView>
            </Modal>

            {/* ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ´ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ */}
            <Modal visible={showPrivacyModal} animationType="fade" transparent statusBarTranslucent>
                <BlurView intensity={100} tint='dark' style={styles.modalContainer}>
                    <View style={styles.modalContentLarge}>
                        <Text style={styles.modalTitle}>ĞšĞ¾Ğ½Ñ„Ğ¸Ğ´ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ</Text>
                        <Text style={styles.modalSubtitle}>Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²Ğ°ÑˆĞ¸Ğ¼Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ¸ Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒÑ</Text>

                        <View style={styles.privacySection}>
                            <Text style={styles.privacySectionTitle}>Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ</Text>
                            <View style={styles.privacyItem}>
                                <Ionicons name="eye-outline" size={20} color="#bb69f2" />
                                <View style={styles.privacyText}>
                                    <Text style={styles.privacyLabel}>Ğ’Ğ¸Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ</Text>
                                    <Text style={styles.privacyDescription}>ĞšÑ‚Ğ¾ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ²Ğ¸Ğ´ĞµÑ‚ÑŒ Ğ²Ğ°Ñˆ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ</Text>
                                </View>
                                <Text style={styles.privacyValue}>Ğ’ÑĞµ</Text>
                            </View>
                            <View style={styles.privacyItem}>
                                <Ionicons name="people-outline" size={20} color="#bb69f2" />
                                <View style={styles.privacyText}>
                                    <Text style={styles.privacyLabel}>Ğ”Ñ€ÑƒĞ·ÑŒÑ</Text>
                                    <Text style={styles.privacyDescription}>ĞšÑ‚Ğ¾ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑÑ‚ÑŒ Ğ²Ğ°Ñ Ğ² Ğ´Ñ€ÑƒĞ·ÑŒÑ</Text>
                                </View>
                                <Text style={styles.privacyValue}>Ğ’ÑĞµ</Text>
                            </View>
                        </View>

                        <View style={styles.privacySection}>
                            <Text style={styles.privacySectionTitle}>Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ</Text>
                            <View style={styles.privacyItem}>
                                <Ionicons name="analytics-outline" size={20} color="#bb69f2" />
                                <View style={styles.privacyText}>
                                    <Text style={styles.privacyLabel}>Ğ¡Ğ±Ğ¾Ñ€ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…</Text>
                                    <Text style={styles.privacyDescription}>ĞĞ½Ğ¾Ğ½Ğ¸Ğ¼Ğ½Ğ°Ñ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ</Text>
                                </View>
                                <Switch
                                    value={true}
                                    onValueChange={() => { }}
                                    trackColor={{ false: '#f0f0f0', true: '#bb69f2' }}
                                />
                            </View>
                            <TouchableOpacity style={styles.privacyItem}>
                                <Ionicons name="download-outline" size={20} color="#bb69f2" />
                                <View style={styles.privacyText}>
                                    <Text style={styles.privacyLabel}>Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…</Text>
                                    <Text style={styles.privacyDescription}>Ğ¡ĞºĞ°Ñ‡Ğ°Ğ¹Ñ‚Ğµ Ğ²Ğ°ÑˆĞ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ</Text>
                                </View>
                                <Ionicons name="chevron-forward" size={16} color="#ccc" />
                            </TouchableOpacity>
                            <TouchableOpacity style={styles.privacyItem}>
                                <Ionicons name="trash-outline" size={20} color="#ff6b6b" />
                                <View style={styles.privacyText}>
                                    <Text style={[styles.privacyLabel, { color: '#ff6b6b' }]}>Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ</Text>
                                    <Text style={styles.privacyDescription}>Ğ‘ĞµĞ·Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ½Ğ¾ ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ</Text>
                                </View>
                                <Ionicons name="chevron-forward" size={16} color="#ccc" />
                            </TouchableOpacity>
                        </View>

                        <TouchableOpacity
                            style={styles.closeButton}
                            onPress={() => setShowPrivacyModal(false)}
                        >
                            <Text style={styles.closeButtonText}>Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾</Text>
                        </TouchableOpacity>
                    </View>
                </BlurView>
            </Modal>

            {/* ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾ Ğ²Ğ½ĞµÑˆĞ½ĞµĞ³Ğ¾ Ğ²Ğ¸Ğ´Ğ° */}
            <Modal visible={showAppearanceModal} animationType="fade" transparent statusBarTranslucent>
                <BlurView intensity={100} tint='dark' style={styles.modalContainer}>
                    <View style={styles.modalContentLarge}>
                        <Text style={styles.modalTitle}>Ğ’Ğ½ĞµÑˆĞ½Ğ¸Ğ¹ Ğ²Ğ¸Ğ´</Text>
                        <Text style={styles.modalSubtitle}>ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹Ñ‚Ğµ Ğ¾Ñ„Ğ¾Ñ€Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ</Text>

                        <View style={styles.appearanceSection}>
                            <Text style={styles.appearanceSectionTitle}>Ğ¢ĞµĞ¼Ğ°</Text>
                            <View style={styles.themeOptions}>
                                <TouchableOpacity style={[styles.themeOption, !darkMode && styles.themeOptionActive]}>
                                    <Ionicons name="sunny" size={24} color={!darkMode ? '#bb69f2' : '#ccc'} />
                                    <Text style={[styles.themeText, !darkMode && styles.themeTextActive]}>Ğ¡Ğ²ĞµÑ‚Ğ»Ğ°Ñ</Text>
                                </TouchableOpacity>
                                <TouchableOpacity style={[styles.themeOption, darkMode && styles.themeOptionActive]}>
                                    <Ionicons name="moon" size={24} color={darkMode ? '#bb69f2' : '#ccc'} />
                                    <Text style={[styles.themeText, darkMode && styles.themeTextActive]}>Ğ¢ĞµĞ¼Ğ½Ğ°Ñ</Text>
                                </TouchableOpacity>
                            </View>
                        </View>

                        <View style={styles.appearanceSection}>
                            <Text style={styles.appearanceSectionTitle}>Ğ¦Ğ²ĞµÑ‚Ğ¾Ğ²Ğ°Ñ ÑÑ…ĞµĞ¼Ğ°</Text>
                            <View style={styles.colorOptions}>
                                {['#bb69f2', '#69a4fe', '#4ECDC4', '#FF6B6B', '#FFD93D'].map((color) => (
                                    <TouchableOpacity
                                        key={color}
                                        style={[styles.colorOption, { backgroundColor: color }]}
                                    />
                                ))}
                            </View>
                        </View>

                        <View style={styles.appearanceSection}>
                            <Text style={styles.appearanceSectionTitle}>Ğ­Ñ„Ñ„ĞµĞºÑ‚Ñ‹</Text>
                            <View style={styles.modalSettingItem}>
                                <View style={styles.modalSettingLeft}>
                                    <Ionicons name="play-outline" size={20} color="#bb69f2" />
                                    <Text style={styles.modalSettingLabel}>ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸</Text>
                                </View>
                                <Switch
                                    value={animationsEnabled}
                                    onValueChange={setAnimationsEnabled}
                                    trackColor={{ false: '#f0f0f0', true: '#bb69f2' }}
                                    thumbColor={animationsEnabled ? '#ffffff' : '#f4f3f4'}
                                />
                            </View>
                            <View style={styles.modalSettingItem}>
                                <View style={styles.modalSettingLeft}>
                                    <Ionicons name="sparkles-outline" size={20} color="#bb69f2" />
                                    <Text style={styles.modalSettingLabel}>Ğ­Ñ„Ñ„ĞµĞºÑ‚Ñ‹</Text>
                                </View>
                                <Switch
                                    value={effectsEnabled}
                                    onValueChange={setEffectsEnabled}
                                    trackColor={{ false: '#f0f0f0', true: '#bb69f2' }}
                                    thumbColor={effectsEnabled ? '#ffffff' : '#f4f3f4'}
                                />
                            </View>
                        </View>

                        <TouchableOpacity
                            style={styles.closeButton}
                            onPress={() => setShowAppearanceModal(false)}
                        >
                            <Text style={styles.closeButtonText}>Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾</Text>
                        </TouchableOpacity>
                    </View>
                </BlurView>
            </Modal>
        </View>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        backgroundColor: '#f8f9fa',
    },
    scrollView: {
        flex: 1,
    },
    header: {
        padding: 25,
        backgroundColor: 'white',
        borderBottomLeftRadius: 25,
        borderBottomRightRadius: 25,
        marginBottom: 10,
    },
    headerTitle: {
        fontSize: 28,
        fontWeight: 'bold',
        color: '#333',
        marginBottom: 5,
    },
    headerSubtitle: {
        fontSize: 16,
        color: '#666',
    },
    section: {
        backgroundColor: 'white',
        marginHorizontal: 20,
        marginBottom: 15,
        borderRadius: 20,
        overflow: 'hidden',
        shadowColor: '#000',
        shadowOffset: { width: 0, height: 2 },
        shadowOpacity: 0.1,
        shadowRadius: 8,
        elevation: 3,
    },
    sectionHeader: {
        padding: 20,
        borderBottomWidth: 1,
        borderBottomColor: '#f8f9fa',
    },
    sectionTitleContainer: {
        flexDirection: 'row',
        alignItems: 'center',
    },
    sectionTitle: {
        fontSize: 18,
        fontWeight: 'bold',
        color: '#333',
        marginLeft: 10,
    },
    sectionContent: {
        paddingHorizontal: 5,
    },
    settingItem: {
        flexDirection: 'row',
        alignItems: 'center',
        justifyContent: 'space-between',
        paddingVertical: 16,
        paddingHorizontal: 15,
        borderBottomWidth: 1,
        borderBottomColor: '#f8f9fa',
    },
    settingLeft: {
        flexDirection: 'row',
        alignItems: 'center',
        flex: 1,
    },
    settingIcon: {
        marginRight: 12,
    },
    settingTextContainer: {
        flex: 1,
    },
    settingLabel: {
        fontSize: 16,
        color: '#333',
        fontWeight: '500',
    },
    settingDescription: {
        fontSize: 12,
        color: '#666',
        marginTop: 2,
    },
    settingValue: {
        fontSize: 14,
        color: '#999',
        fontWeight: '500',
    },
    logoutButton: {
        flexDirection: 'row',
        alignItems: 'center',
        justifyContent: 'center',
        backgroundColor: 'white',
        margin: 20,
        padding: 18,
        borderRadius: 16,
        borderWidth: 1,
        borderColor: '#ff6b6b',
        shadowColor: '#000',
        shadowOffset: { width: 0, height: 2 },
        shadowOpacity: 0.1,
        shadowRadius: 4,
        elevation: 3,
    },
    logoutText: {
        color: '#ff6b6b',
        fontSize: 16,
        fontWeight: '600',
        marginLeft: 8,
    },
    modalContainer: {
        flex: 1,
        justifyContent: 'center',
        alignItems: 'center',
        padding: 20,
    },
    modalContent: {
        backgroundColor: 'white',
        borderRadius: 25,
        padding: 25,
        width: '100%',
        maxWidth: 400,
        shadowColor: '#000',
        shadowOffset: { width: 0, height: 10 },
        shadowOpacity: 0.3,
        shadowRadius: 20,
        elevation: 10,
    },
    modalContentLarge: {
        backgroundColor: 'white',
        borderRadius: 25,
        padding: 25,
        width: '100%',
        maxWidth: 400,
        maxHeight: '80%',
        shadowColor: '#000',
        shadowOffset: { width: 0, height: 10 },
        shadowOpacity: 0.3,
        shadowRadius: 20,
        elevation: 10,
    },
    modalTitle: {
        fontSize: 24,
        fontWeight: 'bold',
        color: '#333',
        marginBottom: 8,
        textAlign: 'center',
    },
    modalSubtitle: {
        fontSize: 16,
        color: '#666',
        textAlign: 'center',
        marginBottom: 25,
        lineHeight: 20,
    },
    inputGroup: {
        marginBottom: 20,
    },
    inputLabel: {
        fontSize: 16,
        fontWeight: '500',
        color: '#333',
        marginBottom: 8,
    },
    inputContainer: {
        flexDirection: 'row',
        alignItems: 'center',
        backgroundColor: '#f8f9fa',
        borderRadius: 16,
        paddingHorizontal: 15,
        paddingVertical: 12,
    },
    input: {
        flex: 1,
        fontSize: 16,
        color: '#333',
        marginLeft: 10,
    },
    modalButtons: {
        flexDirection: 'row',
        justifyContent: 'space-between',
        marginTop: 10,
    },
    cancelButton: {
        flex: 1,
        padding: 16,
        borderRadius: 16,
        backgroundColor: '#f8f9fa',
        marginRight: 10,
        alignItems: 'center',
    },
    cancelButtonText: {
        color: '#666',
        fontSize: 16,
        fontWeight: '500',
    },
    saveButton: {
        flex: 1,
        padding: 16,
        borderRadius: 16,
        backgroundColor: '#bb69f2',
        marginLeft: 10,
        alignItems: 'center',
    },
    saveButtonText: {
        color: 'white',
        fontSize: 16,
        fontWeight: '600',
    },
    modalSection: {
        marginBottom: 25,
    },
    modalSectionTitle: {
        fontSize: 18,
        fontWeight: '600',
        color: '#333',
        marginBottom: 15,
    },
    modalSettingItem: {
        flexDirection: 'row',
        alignItems: 'center',
        justifyContent: 'space-between',
        paddingVertical: 12,
        borderBottomWidth: 1,
        borderBottomColor: '#f8f9fa',
    },
    modalSettingLeft: {
        flexDirection: 'row',
        alignItems: 'center',
        flex: 1,
    },
    modalSettingLabel: {
        fontSize: 16,
        color: '#333',
        marginLeft: 12,
        fontWeight: '500',
    },
    privacySection: {
        marginBottom: 25,
    },
    privacySectionTitle: {
        fontSize: 18,
        fontWeight: '600',
        color: '#333',
        marginBottom: 15,
    },
    privacyItem: {
        flexDirection: 'row',
        alignItems: 'center',
        paddingVertical: 15,
        borderBottomWidth: 1,
        borderBottomColor: '#f8f9fa',
    },
    privacyText: {
        flex: 1,
        marginLeft: 12,
    },
    privacyLabel: {
        fontSize: 16,
        color: '#333',
        fontWeight: '500',
    },
    privacyDescription: {
        fontSize: 12,
        color: '#666',
        marginTop: 2,
    },
    privacyValue: {
        fontSize: 14,
        color: '#999',
        fontWeight: '500',
    },
    appearanceSection: {
        marginBottom: 25,
    },
    appearanceSectionTitle: {
        fontSize: 18,
        fontWeight: '600',
        color: '#333',
        marginBottom: 15,
    },
    themeOptions: {
        flexDirection: 'row',
        justifyContent: 'space-between',
    },
    themeOption: {
        flex: 1,
        alignItems: 'center',
        padding: 20,
        borderRadius: 16,
        backgroundColor: '#f8f9fa',
        marginHorizontal: 5,
        borderWidth: 2,
        borderColor: 'transparent',
    },
    themeOptionActive: {
        borderColor: '#bb69f2',
        backgroundColor: '#f0e6ff',
    },
    themeText: {
        marginTop: 8,
        fontSize: 14,
        color: '#666',
        fontWeight: '500',
    },
    themeTextActive: {
        color: '#bb69f2',
        fontWeight: '600',
    },
    colorOptions: {
        flexDirection: 'row',
        justifyContent: 'space-between',
    },
    colorOption: {
        width: 40,
        height: 40,
        borderRadius: 20,
        marginHorizontal: 5,
    },
    closeButton: {
        padding: 16,
        borderRadius: 16,
        backgroundColor: '#bb69f2',
        alignItems: 'center',
        marginTop: 10,
    },
    closeButtonText: {
        color: 'white',
        fontSize: 16,
        fontWeight: '600',
    },
});
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ğ¤ĞĞ™Ğ›: src\screens\Onboarding\GoogleLoginPage.js                              â•‘
â•‘ ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: JavaScript                                                        â•‘
â•‘ ĞŸĞĞ›ĞĞ«Ğ™ ĞŸĞ£Ğ¢Ğ¬: C:\Users\MSI\Desktop\MoiMoi\MoiMoi\src\screens\Onboarding\GoogleLoginPage.js â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import React from 'react';
import { View, Text, Image, StyleSheet, TouchableOpacity } from 'react-native';
import { LinearGradient } from 'expo-linear-gradient';
import { useNavigation } from '@react-navigation/native';
import AsyncStorage from '@react-native-async-storage/async-storage';

export default function GoogleLoginPage() {
    const navigation = useNavigation();

    const handleLogin = async () => {
        try {
            // Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ»Ğ¾Ğ³Ğ¸Ğ½Ğ°
            await AsyncStorage.setItem('isLoggedIn', 'true');

            // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼, Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ°Ğ» Ğ»Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¾Ğ½Ğ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³ Ñ€Ğ°Ğ½ĞµĞµ
            const hasCompletedOnboarding = await AsyncStorage.getItem('hasCompletedOnboarding');

            if (hasCompletedOnboarding === 'true') {
                // Ğ•ÑĞ»Ğ¸ Ğ¾Ğ½Ğ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½, Ğ¸Ğ´ĞµĞ¼ ÑÑ€Ğ°Ğ·Ñƒ Ğ² Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ
                navigation.reset({
                    index: 0,
                    routes: [{ name: 'Main' }],
                });
            } else {
                // Ğ•ÑĞ»Ğ¸ Ğ¾Ğ½Ğ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³ Ğ½Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½, Ğ¸Ğ´ĞµĞ¼ Ğ² Ğ¾Ğ½Ğ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³
                navigation.reset({
                    index: 0,
                    routes: [{ name: 'Onboarding' }],
                });
            }
        } catch (error) {
            console.error('Error saving login state:', error);
        }
    };

    const handleSkip = async () => {
        try {
            // ĞŸÑ€Ğ¸ Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑĞºĞµ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ»Ğ¾Ğ³Ğ¸Ğ½Ğ°
            await AsyncStorage.setItem('isLoggedIn', 'true');
            // ĞŸĞ¾Ğ¼ĞµÑ‡Ğ°ĞµĞ¼ Ğ¾Ğ½Ğ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³ ĞºĞ°Ğº Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ½Ñ‹Ğ¹
            await AsyncStorage.setItem('hasCompletedOnboarding', 'true');

            // ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¸Ğ¼ Ğ² Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ
            navigation.reset({
                index: 0,
                routes: [{ name: 'Main' }],
            });
        } catch (error) {
            console.error('Error during skip:', error);
        }
    };

    const handleGoogleLogin = async () => {
        console.log('Google login pressed');
        await handleLogin();
    };

    const handleAppleLogin = async () => {
        console.log('Apple login pressed');
        await handleLogin();
    };

    return (
        <View style={styles.container}>
            {/* Ğ’ĞµÑ€Ñ…Ğ½ÑÑ Ñ‡Ğ°ÑÑ‚ÑŒ Ñ Ğ³Ñ€Ğ°Ğ´Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ¼ Ğ¸ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸ĞµĞ¼ */}
            <LinearGradient
                colors={['#f8fdff', '#e1f7ff']}
                style={styles.gradientContainer}
                start={{ x: 0, y: 0 }}
                end={{ x: 0, y: 1 }}
            >
                <Image
                    source={require('../../../assets/images/page_assets/onboarding_image.png')}
                    style={styles.image}
                    resizeMode="contain"
                />
            </LinearGradient>

            {/* ĞĞ¸Ğ¶Ğ½ÑÑ Ñ‡Ğ°ÑÑ‚ÑŒ Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ°Ğ¼Ğ¸ Ğ²Ñ…Ğ¾Ğ´Ğ° */}
            <View style={styles.bottomContainer}>
                <Text style={styles.title}>Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² MoiMoi!</Text>
                <Text style={styles.subtitle}>
                    Ğ’Ğ¾Ğ¹Ğ´Ğ¸Ñ‚Ğµ Ğ² ÑĞ²Ğ¾Ğ¹ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ½Ğ°Ñ‡Ğ°Ñ‚ÑŒ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ
                </Text>

                {/* ĞšĞ½Ğ¾Ğ¿ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ° Ñ‡ĞµÑ€ĞµĞ· Google */}
                <TouchableOpacity
                    style={styles.googleButton}
                    onPress={handleGoogleLogin}
                >
                    <View style={styles.buttonContent}>
                        <Image
                            source={require('../../../assets/images/icons/google.png')}
                            style={styles.icon}
                        />
                        <Text style={styles.googleButtonText}>Ğ’Ğ¾Ğ¹Ñ‚Ğ¸ Ñ‡ĞµÑ€ĞµĞ· Google</Text>
                    </View>
                </TouchableOpacity>

                {/* ĞšĞ½Ğ¾Ğ¿ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ° Ñ‡ĞµÑ€ĞµĞ· Apple */}
                <TouchableOpacity
                    style={styles.appleButton}
                    onPress={handleAppleLogin}
                >
                    <View style={styles.buttonContent}>
                        <Image
                            source={require('../../../assets/images/icons/apple.png')}
                            style={[styles.icon, styles.whiteIcon]}
                        />
                        <Text style={styles.appleButtonText}>Ğ’Ğ¾Ğ¹Ñ‚Ğ¸ Ñ‡ĞµÑ€ĞµĞ· Apple</Text>
                    </View>
                </TouchableOpacity>

                {/* ĞšĞ½Ğ¾Ğ¿ĞºĞ° Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑĞºĞ° */}
                <TouchableOpacity
                    style={styles.skipButton}
                    onPress={handleSkip}
                >
                    <Text style={styles.skipButtonText}>ĞŸÑ€Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¸ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ</Text>
                </TouchableOpacity>
            </View>
        </View>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        backgroundColor: '#e1f7ff',
    },
    gradientContainer: {
        height: '60%',
        justifyContent: 'center',
        alignItems: 'center',
        borderBottomLeftRadius: 30,
        borderBottomRightRadius: 30,
        padding: 20,
        marginTop: 60,
    },
    image: {
        width: '200%',
        height: '130%',
    },
    bottomContainer: {
        flex: 1,
        padding: 30,
        justifyContent: 'center',
        backgroundColor: '#e1f7ff',
        marginBottom: 50,
    },
    title: {
        fontSize: 28,
        fontWeight: 'bold',
        textAlign: 'center',
        marginBottom: 10,
        color: '#333',
    },
    subtitle: {
        fontSize: 16,
        textAlign: 'center',
        marginBottom: 40,
        color: '#666',
        lineHeight: 22,
    },
    googleButton: {
        backgroundColor: 'white',
        borderWidth: 2,
        borderColor: '#e9ecef',
        borderRadius: 16,
        paddingVertical: 16,
        marginBottom: 15,
        shadowColor: '#000',
        shadowOffset: {
            width: 0,
            height: 2,
        },
        shadowOpacity: 0.1,
        shadowRadius: 4,
        elevation: 3,
    },
    appleButton: {
        backgroundColor: '#000000',
        borderRadius: 16,
        paddingVertical: 16,
        marginBottom: 20,
        shadowColor: '#000',
        shadowOffset: {
            width: 0,
            height: 2,
        },
        shadowOpacity: 0.2,
        shadowRadius: 4,
        elevation: 3,
    },
    skipButton: {
        padding: 16,
        alignItems: 'center',
        marginBottom: 30,
    },
    skipButtonText: {
        color: '#666',
        fontSize: 16,
        fontWeight: '500',
    },
    buttonContent: {
        flexDirection: 'row',
        alignItems: 'center',
        justifyContent: 'center',
    },
    icon: {
        width: 24,
        height: 24,
        resizeMode: 'contain',
    },
    whiteIcon: {
        tintColor: 'white',
    },
    googleButtonText: {
        color: '#333',
        fontSize: 16,
        fontWeight: '600',
        marginLeft: 12,
    },
    appleButtonText: {
        color: 'white',
        fontSize: 16,
        fontWeight: '600',
        marginLeft: 12,
    },
});
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ğ¤ĞĞ™Ğ›: src\screens\Onboarding\HabitsScreen.js                                 â•‘
â•‘ ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: JavaScript                                                        â•‘
â•‘ ĞŸĞĞ›ĞĞ«Ğ™ ĞŸĞ£Ğ¢Ğ¬: C:\Users\MSI\Desktop\MoiMoi\MoiMoi\src\screens\Onboarding\HabitsScreen.js â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import React, { useState } from 'react';
import { View, Text, StyleSheet, TouchableOpacity, ScrollView } from 'react-native';
import { useNavigation } from '@react-navigation/native';
import AsyncStorage from '@react-native-async-storage/async-storage';
import { Ionicons } from '@expo/vector-icons';

const defaultHabits = [
    { id: '1', name: 'Ğ£Ğ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ', icon: 'fitness', selected: false },
    { id: '2', name: 'Ğ§Ñ‚ĞµĞ½Ğ¸Ğµ', icon: 'book', selected: false },
    { id: '3', name: 'ĞœĞµĞ´Ğ¸Ñ‚Ğ°Ñ†Ğ¸Ñ', icon: 'leaf', selected: false },
    { id: '4', name: 'ĞŸĞ¸Ñ‚ÑŒ Ğ²Ğ¾Ğ´Ñƒ', icon: 'water', selected: false },
    { id: '5', name: 'Ğ¡Ğ¾Ğ½', icon: 'moon', selected: false },
    { id: '6', name: 'Ğ£Ñ‡ĞµĞ±Ğ°', icon: 'school', selected: false },
    { id: '7', name: 'ĞšÑƒÑ€ĞµĞ½Ğ¸Ğµ', icon: 'ban', selected: false },
    { id: '8', name: 'Ğ¥Ğ¾Ğ´ÑŒĞ±Ğ°', icon: 'walk', selected: false },
];

export default function HabitsScreen() {
    const [habits, setHabits] = useState(defaultHabits);
    const navigation = useNavigation();

    const toggleHabit = (id) => {
        const updatedHabits = habits.map(habit =>
            habit.id === id ? { ...habit, selected: !habit.selected } : habit
        );
        setHabits(updatedHabits);
    };

    const saveHabitsAndContinue = async () => {
        try {
            const selectedHabits = habits.filter(habit => habit.selected);

            // Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ğ²Ñ‹Ñ‡ĞºĞ¸
            await AsyncStorage.setItem('userHabits', JSON.stringify(selectedHabits));

            // ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¸Ğ¼ Ğ½Ğ° ÑĞºÑ€Ğ°Ğ½ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸
            navigation.navigate('Registration');
        } catch (error) {
            console.error('Error saving habits:', error);
        }
    };

    const selectedCount = habits.filter(habit => habit.selected).length;

    return (
        <View style={styles.container}>
            <Text style={styles.title}>Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞ²Ğ¾Ğ¸ Ğ¿Ñ€Ğ¸Ğ²Ñ‹Ñ‡ĞºĞ¸ ğŸ¯</Text>
            <Text style={styles.subtitle}>
                Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¸Ğ²Ñ‹Ñ‡ĞºĞ¸, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ²Ñ‹ Ñ…Ğ¾Ñ‚Ğ¸Ñ‚Ğµ Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ñ‚ÑŒ{'\n'}
                <Text style={styles.counter}>({selectedCount} Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ¾)</Text>
            </Text>

            <ScrollView style={styles.habitsContainer} showsVerticalScrollIndicator={false}>
                <View style={styles.habitsGrid}>
                    {habits.map((habit) => (
                        <TouchableOpacity
                            key={habit.id}
                            style={[
                                styles.habitCard,
                                habit.selected && styles.habitCardSelected
                            ]}
                            onPress={() => toggleHabit(habit.id)}
                        >
                            <View style={[
                                styles.iconContainer,
                                habit.selected && styles.iconContainerSelected
                            ]}>
                                <Ionicons
                                    name={habit.icon}
                                    size={28}
                                    color={habit.selected ? '#bb69f2' : '#666'}
                                />
                            </View>
                            <Text style={[
                                styles.habitName,
                                habit.selected && styles.habitNameSelected
                            ]}>
                                {habit.name}
                            </Text>
                            {habit.selected && (
                                <Ionicons
                                    name="checkmark-circle"
                                    size={20}
                                    color="#bb69f2"
                                    style={styles.checkIcon}
                                />
                            )}
                        </TouchableOpacity>
                    ))}
                </View>
            </ScrollView>

            <TouchableOpacity
                style={[
                    styles.continueButton,
                    selectedCount === 0 && styles.continueButtonDisabled
                ]}
                onPress={saveHabitsAndContinue}
                disabled={selectedCount === 0}
            >
                <Text style={styles.continueButtonText}>
                    ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ ({selectedCount})
                </Text>
            </TouchableOpacity>
        </View>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        padding: 20,
        backgroundColor: '#ffffff',
    },
    title: {
        fontSize: 28,
        fontWeight: 'bold',
        marginBottom: 10,
        color: '#333',
        textAlign: 'center',
        marginTop: 20,
    },
    subtitle: {
        fontSize: 16,
        textAlign: 'center',
        marginBottom: 30,
        color: '#666',
        lineHeight: 22,
    },
    counter: {
        color: '#bb69f2',
        fontWeight: '600',
    },
    habitsContainer: {
        flex: 1,
        marginBottom: 20,
    },
    habitsGrid: {
        flexDirection: 'row',
        flexWrap: 'wrap',
        justifyContent: 'space-between',
    },
    habitCard: {
        width: '48%',
        backgroundColor: '#f8f9fa',
        padding: 20,
        borderRadius: 16,
        alignItems: 'center',
        marginBottom: 15,
        borderWidth: 2,
        borderColor: 'transparent',
        position: 'relative',
    },
    habitCardSelected: {
        backgroundColor: '#f0e6ff',
        borderColor: '#bb69f2',
    },
    iconContainer: {
        width: 60,
        height: 60,
        borderRadius: 30,
        backgroundColor: 'white',
        justifyContent: 'center',
        alignItems: 'center',
        marginBottom: 10,
        borderWidth: 2,
        borderColor: '#e9ecef',
    },
    iconContainerSelected: {
        borderColor: '#bb69f2',
        backgroundColor: '#fff',
    },
    habitName: {
        fontSize: 14,
        fontWeight: '500',
        color: '#333',
        textAlign: 'center',
    },
    habitNameSelected: {
        color: '#bb69f2',
        fontWeight: '600',
    },
    checkIcon: {
        position: 'absolute',
        top: 10,
        right: 10,
    },
    continueButton: {
        backgroundColor: '#69a4fe',
        paddingVertical: 16,
        borderRadius: 25,
        alignItems: 'center',
        marginBottom: 10,
    },
    continueButtonDisabled: {
        backgroundColor: '#ccc',
    },
    continueButtonText: {
        color: 'white',
        fontSize: 18,
        fontWeight: '600',
    },
});
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ğ¤ĞĞ™Ğ›: src\screens\Onboarding\PermissionsScreen.js                            â•‘
â•‘ ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: JavaScript                                                        â•‘
â•‘ ĞŸĞĞ›ĞĞ«Ğ™ ĞŸĞ£Ğ¢Ğ¬: C:\Users\MSI\Desktop\MoiMoi\MoiMoi\src\screens\Onboarding\PermissionsScreen.js â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import React from 'react';
import { View, Text, StyleSheet, TouchableOpacity, ScrollView, Alert } from 'react-native';
import { useNavigation } from '@react-navigation/native';
import { Ionicons } from '@expo/vector-icons';

export default function PermissionsScreen() {
    const navigation = useNavigation();

    const handleEnablePermissions = async () => {
        try {
            // Ğ¤ĞµĞ¹ĞºĞ¾Ğ²Ñ‹Ğ¹ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ğ¹ - Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
            Alert.alert(
                'Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ñ‹!',
                'Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Ğ²Ñ‹ Ğ±ÑƒĞ´ĞµÑ‚Ğµ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°Ñ‚ÑŒ Ğ½Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ñ Ğ¾Ñ‚ MoiMoi (Ğ² Ğ±ÑƒĞ´ÑƒÑ‰Ğ¸Ñ… Ğ²ĞµÑ€ÑĞ¸ÑÑ…)',
                [
                    {
                        text: 'ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾!',
                        onPress: () => navigation.navigate('Habits')
                    }
                ]
            );
        } catch (error) {
            console.error('ĞÑˆĞ¸Ğ±ĞºĞ°:', error);
            Alert.alert('ĞÑˆĞ¸Ğ±ĞºĞ°', 'Ğ§Ñ‚Ğ¾-Ñ‚Ğ¾ Ğ¿Ğ¾ÑˆĞ»Ğ¾ Ğ½Ğµ Ñ‚Ğ°Ğº');
            navigation.navigate('Habits');
        }
    };

    const handleSkip = () => {
        navigation.navigate('Habits');
    };

    return (
        <View style={styles.container}>
            <Text style={styles.title}>ĞĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ñ‹Ğµ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ ğŸ””</Text>

            <ScrollView style={styles.permissionsList}>
                <View style={styles.permissionItem}>
                    <Ionicons name="notifications-outline" size={32} color="#bb69f2" />
                    <View style={styles.permissionText}>
                        <Text style={styles.permissionTitle}>Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ</Text>
                        <Text style={styles.permissionDescription}>
                            Ğ§Ñ‚Ğ¾Ğ±Ñ‹ Ğ½Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ñ‚ÑŒ Ğ²Ğ°Ğ¼ Ğ¾ Ğ²Ğ°ÑˆĞ¸Ñ… Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ°Ñ… Ğ¸ ÑĞ»ĞµĞ´Ğ¸Ñ‚ÑŒ Ğ·Ğ° Ğ²Ğ°ÑˆĞ¸Ğ¼ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ¾Ğ¼
                        </Text>
                    </View>
                </View>

                <View style={styles.permissionItem}>
                    <Ionicons name="time-outline" size={32} color="#bb69f2" />
                    <View style={styles.permissionText}>
                        <Text style={styles.permissionTitle}>ĞĞ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ñ</Text>
                        <Text style={styles.permissionDescription}>
                            Ğ§Ñ‚Ğ¾Ğ±Ñ‹ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‡ÑŒ Ğ²Ğ°Ğ¼ Ğ¾ÑÑ‚Ğ°Ğ²Ğ°Ñ‚ÑŒÑÑ Ğ² ĞºÑƒÑ€ÑĞµ Ğ²Ğ°ÑˆĞ¸Ñ… Ğ¿Ğ¾Ğ²ÑĞµĞ´Ğ½ĞµĞ²Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¸Ğ²Ñ‹Ñ‡ĞµĞº
                        </Text>
                    </View>
                </View>

                <View style={styles.noteBox}>
                    <Ionicons name="information-circle-outline" size={20} color="#69a4fe" />
                    <Text style={styles.noteText}>
                        Ğ’ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¹ Ğ²ĞµÑ€ÑĞ¸Ğ¸ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ Ğ² Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ğ¾Ğ¼ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğµ. ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ±ÑƒĞ´ĞµÑ‚ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ° Ğ² ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ñ… Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸ÑÑ….
                    </Text>
                </View>
            </ScrollView>

            <View style={styles.buttonContainer}>
                <TouchableOpacity
                    style={styles.primaryButton}
                    onPress={handleEnablePermissions}
                >
                    <Text style={styles.primaryButtonText}>Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ</Text>
                </TouchableOpacity>

                <TouchableOpacity
                    style={styles.secondaryButton}
                    onPress={handleSkip}
                >
                    <Text style={styles.secondaryButtonText}>ĞŸÑ€Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ</Text>
                </TouchableOpacity>
            </View>
        </View>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        padding: 20,
        backgroundColor: '#ffffff',
    },
    title: {
        fontSize: 28,
        fontWeight: 'bold',
        marginBottom: 30,
        color: '#333',
        textAlign: 'center',
        marginTop: 20,
    },
    permissionsList: {
        flex: 1,
    },
    permissionItem: {
        flexDirection: 'row',
        alignItems: 'flex-start',
        backgroundColor: '#f8f9fa',
        padding: 20,
        borderRadius: 12,
        marginBottom: 15,
        borderLeftWidth: 4,
        borderLeftColor: '#bb69f2',
    },
    permissionText: {
        flex: 1,
        marginLeft: 15,
    },
    permissionTitle: {
        fontSize: 18,
        fontWeight: '600',
        marginBottom: 5,
        color: '#333',
    },
    permissionDescription: {
        fontSize: 14,
        color: '#666',
        lineHeight: 20,
    },
    noteBox: {
        flexDirection: 'row',
        alignItems: 'flex-start',
        backgroundColor: '#e3f2fd',
        padding: 15,
        borderRadius: 12,
        marginTop: 10,
        borderLeftWidth: 4,
        borderLeftColor: '#69a4fe',
    },
    noteText: {
        flex: 1,
        fontSize: 14,
        color: '#1976d2',
        lineHeight: 20,
        marginLeft: 10,
    },
    buttonContainer: {
        marginTop: 20,
    },
    primaryButton: {
        backgroundColor: '#69a4fe',
        paddingVertical: 15,
        borderRadius: 25,
        marginBottom: 15,
        alignItems: 'center',
    },
    primaryButtonText: {
        color: 'white',
        fontSize: 18,
        fontWeight: '600',
    },
    secondaryButton: {
        padding: 15,
        alignItems: 'center',
    },
    secondaryButtonText: {
        color: '#666',
        fontSize: 16,
    },
});
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ğ¤ĞĞ™Ğ›: src\screens\Onboarding\RegistrationScreen.js                           â•‘
â•‘ ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: JavaScript                                                        â•‘
â•‘ ĞŸĞĞ›ĞĞ«Ğ™ ĞŸĞ£Ğ¢Ğ¬: C:\Users\MSI\Desktop\MoiMoi\MoiMoi\src\screens\Onboarding\RegistrationScreen.js â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import React, { useState } from 'react';
import { View, Text, StyleSheet, TouchableOpacity, TextInput, ScrollView, Alert, Image } from 'react-native';
import { useNavigation } from '@react-navigation/native';
import { Ionicons } from '@expo/vector-icons';
import AsyncStorage from '@react-native-async-storage/async-storage';
import * as ImagePicker from 'expo-image-picker';

export default function RegistrationScreen() {
    const navigation = useNavigation();
    const [formData, setFormData] = useState({
        name: '',
        age: '',
        moimoiName: 'Moi',
        avatar: null,
    });

    const updateFormData = (field, value) => {
        setFormData(prev => ({
            ...prev,
            [field]: value
        }));
    };

    const pickImage = async () => {
        const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();

        if (status !== 'granted') {
            Alert.alert('ĞĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº Ñ„Ğ¾Ñ‚Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸ÑĞ¼');
            return;
        }

        let result = await ImagePicker.launchImageLibraryAsync({
            mediaTypes: ImagePicker.MediaTypeOptions.Images,
            allowsEditing: true,
            aspect: [1, 1],
            quality: 0.8,
        });

        if (!result.canceled) {
            updateFormData('avatar', result.assets[0].uri);
        }
    };

    const saveUserData = async () => {
        if (!formData.name.trim()) {
            Alert.alert('ĞÑˆĞ¸Ğ±ĞºĞ°', 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ²Ğ°ÑˆĞµ Ğ¸Ğ¼Ñ');
            return;
        }

        if (!formData.age || parseInt(formData.age) < 1 || parseInt(formData.age) > 120) {
            Alert.alert('ĞÑˆĞ¸Ğ±ĞºĞ°', 'ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ñ‹Ğ¹ Ğ²Ğ¾Ğ·Ñ€Ğ°ÑÑ‚');
            return;
        }

        try {
            const userData = {
                ...formData,
                age: parseInt(formData.age),
                registeredAt: new Date().toISOString(),
            };

            // Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
            await AsyncStorage.setItem('userData', JSON.stringify(userData));

            // ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¸Ğ¼ Ğ½Ğ° Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞºÑ€Ğ°Ğ½
            navigation.reset({
                index: 0,
                routes: [{ name: 'Main' }],
            });
        } catch (error) {
            console.error('Error saving user data:', error);
            Alert.alert('ĞÑˆĞ¸Ğ±ĞºĞ°', 'ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ');
        }
    };

    return (
        <View style={styles.container}>
            <ScrollView contentContainerStyle={styles.scrollContent}>
                <Text style={styles.title}>Ğ”Ğ°Ğ²Ğ°Ğ¹Ñ‚Ğµ Ğ¿Ğ¾Ğ·Ğ½Ğ°ĞºĞ¾Ğ¼Ğ¸Ğ¼ÑÑ! ğŸ‘‹</Text>

                {/* Avatar Section */}
                <TouchableOpacity style={styles.avatarContainer} onPress={pickImage}>
                    {formData.avatar ? (
                        <Image source={{ uri: formData.avatar }} style={styles.avatar} />
                    ) : (
                        <View style={styles.avatarPlaceholder}>
                            <Ionicons name="person-outline" size={40} color="#bb69f2" />
                            <Text style={styles.avatarText}>Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ„Ğ¾Ñ‚Ğ¾</Text>
                        </View>
                    )}
                    <View style={styles.avatarOverlay}>
                        <Ionicons name="camera" size={24} color="white" />
                    </View>
                </TouchableOpacity>

                {/* Form Fields */}
                <View style={styles.form}>
                    <View style={styles.inputContainer}>
                        <Text style={styles.label}>Ğ’Ğ°ÑˆĞµ Ğ¸Ğ¼Ñ *</Text>
                        <TextInput
                            style={styles.input}
                            placeholder="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ²Ğ°ÑˆĞµ Ğ¸Ğ¼Ñ"
                            value={formData.name}
                            onChangeText={(text) => updateFormData('name', text)}
                            placeholderTextColor="#999"
                        />
                    </View>

                    <View style={styles.inputContainer}>
                        <Text style={styles.label}>Ğ’Ğ°Ñˆ Ğ²Ğ¾Ğ·Ñ€Ğ°ÑÑ‚ *</Text>
                        <TextInput
                            style={styles.input}
                            placeholder="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ²Ğ°Ñˆ Ğ²Ğ¾Ğ·Ñ€Ğ°ÑÑ‚"
                            value={formData.age}
                            onChangeText={(text) => updateFormData('age', text)}
                            keyboardType="numeric"
                            placeholderTextColor="#999"
                        />
                    </View>

                    <View style={styles.inputContainer}>
                        <Text style={styles.label}>Ğ˜Ğ¼Ñ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ MoiMoi</Text>
                        <TextInput
                            style={styles.input}
                            placeholder="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¸Ğ¼Ñ Ğ´Ğ»Ñ MoiMoi"
                            value={formData.moimoiName}
                            onChangeText={(text) => updateFormData('moimoiName', text)}
                            placeholderTextColor="#999"
                        />
                    </View>
                </View>

                <TouchableOpacity
                    style={[
                        styles.saveButton,
                        (!formData.name.trim() || !formData.age) && styles.saveButtonDisabled
                    ]}
                    onPress={saveUserData}
                    disabled={!formData.name.trim() || !formData.age}
                >
                    <Text style={styles.saveButtonText}>Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ¸ Ğ½Ğ°Ñ‡Ğ°Ñ‚ÑŒ</Text>
                </TouchableOpacity>
            </ScrollView>
        </View>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        backgroundColor: '#ffffff',
    },
    scrollContent: {
        flexGrow: 1,
        padding: 20,
        paddingTop: 60,
    },
    title: {
        fontSize: 28,
        fontWeight: 'bold',
        textAlign: 'center',
        marginBottom: 40,
        color: '#333',
    },
    avatarContainer: {
        alignItems: 'center',
        marginBottom: 40,
        position: 'relative',
    },
    avatar: {
        width: 120,
        height: 120,
        borderRadius: 60,
        borderWidth: 4,
        borderColor: '#bb69f2',
    },
    avatarPlaceholder: {
        width: 120,
        height: 120,
        borderRadius: 60,
        backgroundColor: '#f8f9fa',
        justifyContent: 'center',
        alignItems: 'center',
        borderWidth: 4,
        borderColor: '#e9ecef',
        borderStyle: 'dashed',
    },
    avatarText: {
        marginTop: 8,
        color: '#bb69f2',
        fontSize: 12,
        fontWeight: '500',
    },
    avatarOverlay: {
        position: 'absolute',
        bottom: 0,
        right: '35%',
        backgroundColor: '#69a4fe',
        width: 36,
        height: 36,
        borderRadius: 18,
        justifyContent: 'center',
        alignItems: 'center',
        borderWidth: 3,
        borderColor: 'white',
    },
    form: {
        marginBottom: 40,
    },
    inputContainer: {
        marginBottom: 20,
    },
    label: {
        fontSize: 16,
        fontWeight: '600',
        marginBottom: 8,
        color: '#333',
    },
    input: {
        borderWidth: 2,
        borderColor: '#e9ecef',
        borderRadius: 12,
        padding: 16,
        fontSize: 16,
        backgroundColor: '#f8f9fa',
        color: '#333',
    },
    saveButton: {
        backgroundColor: '#69a4fe',
        paddingVertical: 16,
        borderRadius: 25,
        alignItems: 'center',
        marginBottom: 20,
    },
    saveButtonDisabled: {
        backgroundColor: '#ccc',
    },
    saveButtonText: {
        color: 'white',
        fontSize: 18,
        fontWeight: '600',
    },
});
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ğ¤ĞĞ™Ğ›: src\screens\Onboarding\WelcomeScreen.js                                â•‘
â•‘ ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: JavaScript                                                        â•‘
â•‘ ĞŸĞĞ›ĞĞ«Ğ™ ĞŸĞ£Ğ¢Ğ¬: C:\Users\MSI\Desktop\MoiMoi\MoiMoi\src\screens\Onboarding\WelcomeScreen.js â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import React from 'react';
import { View, Text, StyleSheet, TouchableOpacity } from 'react-native';
import { useNavigation } from '@react-navigation/native';
import LottieView from 'lottie-react-native';

export default function WelcomeScreen() {
    const navigation = useNavigation();

    return (
        <View style={styles.container}>
            <Text style={styles.title}>ĞŸĞ¾Ğ·Ğ½Ğ°ĞºĞ¾Ğ¼ÑŒÑÑ ÑĞ¾ ÑĞ²Ğ¾Ğ¸Ğ¼ MoiMoi! ğŸ‘‹</Text>

            {/* Lottie Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ²Ğ¼ĞµÑÑ‚Ğ¾ ÑÑ‚Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ */}
            <LottieView
                source={require('../../../assets/Animations/moimoi_starter_Animation.json')} // Ğ£Ğ±ĞµĞ´Ğ¸Ñ‚ĞµÑÑŒ, Ñ‡Ñ‚Ğ¾ Ğ¿ÑƒÑ‚ÑŒ Ğ²ĞµÑ€Ğ½Ñ‹Ğ¹
                autoPlay
                loop
                style={styles.animation}
            />

            <Text style={styles.description}>
                ĞŸÑ€Ğ¸Ğ²ĞµÑ‚! Ğ¯ Ñ‚Ğ²Ğ¾Ğ¹ Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½ÑŒĞ¾Ğ½ Ğ´Ğ»Ñ Ğ²Ñ‹Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ»ÑƒÑ‡ÑˆĞ¸Ñ… Ğ¿Ñ€Ğ¸Ğ²Ñ‹Ñ‡ĞµĞº Ğ¸ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ Ñ†ĞµĞ»ĞµĞ¹.
            </Text>

            <TouchableOpacity
                style={styles.primaryButton}
                onPress={() => navigation.navigate('Permissions')}
            >
                <Text style={styles.primaryButtonText}>ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ</Text>
            </TouchableOpacity>

            <TouchableOpacity
                style={styles.secondaryButton}
                onPress={() => navigation.navigate('Main')}
            >
                <Text style={styles.secondaryButtonText}>ĞŸÑ€Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ</Text>
            </TouchableOpacity>
        </View>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        justifyContent: 'center',
        alignItems: 'center',
        padding: 20,
        backgroundColor: '#ffffff',
    },
    title: {
        fontSize: 32,
        fontWeight: 'bold',
        marginBottom: 40,
        color: '#333',
        textAlign: 'center',
    },
    animation: {
        width: 300,
        height: 300,
        marginBottom: 20,
    },
    description: {
        fontSize: 18,
        textAlign: 'center',
        marginBottom: 50,
        lineHeight: 24,
        color: '#666',
        paddingHorizontal: 20,
    },
    primaryButton: {
        backgroundColor: '#69a4fe',
        paddingHorizontal: 50,
        paddingVertical: 15,
        borderRadius: 25,
        marginBottom: 15,
        width: '100%',
        alignItems: 'center',
    },
    primaryButtonText: {
        color: 'white',
        fontSize: 18,
        fontWeight: '600',
    },
    secondaryButton: {
        padding: 15,
    },
    secondaryButtonText: {
        color: '#666',
        fontSize: 16,
    },
});
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– 
ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: Python (1 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)
â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– 

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Ğ¤ĞĞ™Ğ›: main.py                                                                â•‘
â•‘ ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: Python                                                            â•‘
â•‘ ĞŸĞĞ›ĞĞ«Ğ™ ĞŸĞ£Ğ¢Ğ¬: C:\Users\MSI\Desktop\MoiMoi\MoiMoi\main.py                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import os
import argparse
from pathlib import Path

def should_skip_directory(dir_name):
    """ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚, Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ»Ğ¸ Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑĞºĞ°Ñ‚ÑŒ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ"""
    skip_dirs = {
        'node_modules', '.git', 'build', 'dist', 'coverage', 
        '.next', '.nuxt', '.cache', 'assets', 'static',
        'public', '.vscode', '.idea', '__pycache__', 'cache',
        'logs', 'temp', 'tmp', 'vendor', 'bin', 'obj'
    }
    return dir_name in skip_dirs or dir_name.startswith('.')

def should_skip_file(file_name):
    """ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚, Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ»Ğ¸ Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑĞºĞ°Ñ‚ÑŒ Ñ„Ğ°Ğ¹Ğ»"""
    skip_files = {
        'package.json', 'package-lock.json', 'yarn.lock',
        'tsconfig.json', 'webpack.config.js', '.eslintrc.js',
        '.prettierrc', 'babel.config.js', 'next.config.js',
        'jest.config.js', 'vue.config.js', 'nuxt.config.js',
        '.gitignore', '.env', '.env.local', 'README.md'
    }
    return file_name in skip_files

def is_target_file(file_name):
    """ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚, ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ğ»Ğ¸ Ñ„Ğ°Ğ¹Ğ» Ñ†ĞµĞ»ĞµĞ²Ñ‹Ğ¼ (JS/JSX/TS/TSX Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹)"""
    target_extensions = {
        '.js', '.jsx', '.ts', '.tsx', '.vue', '.svelte',
        '.css', '.scss', '.less', '.html', '.htm', '.json',
        '.py', '.java', '.cpp', '.c', '.h', '.cs', '.php',
        '.rb', '.go', '.rs', '.swift', '.kt', '.dart'
    }
    return any(file_name.endswith(ext) for ext in target_extensions)

def get_file_category(file_extension):
    """Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ñ„Ğ°Ğ¹Ğ»Ğ° Ğ´Ğ»Ñ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸"""
    categories = {
        '.js': 'JavaScript',
        '.jsx': 'React JSX',
        '.ts': 'TypeScript', 
        '.tsx': 'React TypeScript',
        '.vue': 'Vue',
        '.svelte': 'Svelte',
        '.py': 'Python',
        '.html': 'HTML',
        '.css': 'CSS',
        '.scss': 'SCSS',
        '.less': 'LESS',
        '.json': 'JSON',
        '.java': 'Java',
        '.cpp': 'C++',
        '.c': 'C',
        '.cs': 'C#',
        '.php': 'PHP',
        '.rb': 'Ruby',
        '.go': 'Go',
        '.rs': 'Rust',
        '.swift': 'Swift',
        '.kt': 'Kotlin',
        '.dart': 'Dart'
    }
    return categories.get(file_extension, 'Other')

def format_file_header(file_path, relative_path, category):
    """Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº Ñ„Ğ°Ğ¹Ğ»Ğ°"""
    header = []
    header.append("â•”" + "â•" * 78 + "â•—")
    header.append(f"â•‘ Ğ¤ĞĞ™Ğ›: {relative_path:<70} â•‘")
    header.append(f"â•‘ ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: {category:<65} â•‘")
    header.append(f"â•‘ ĞŸĞĞ›ĞĞ«Ğ™ ĞŸĞ£Ğ¢Ğ¬: {file_path:<64} â•‘")
    header.append("â•š" + "â•" * 78 + "â•")
    return '\n'.join(header)

def format_file_footer():
    """Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¿Ğ¾Ğ´Ğ²Ğ°Ğ» Ñ„Ğ°Ğ¹Ğ»Ğ°"""
    return "\n" + "â”€" * 80 + "\n"

def collect_source_files(root_dir, output_file):
    """Ğ ĞµĞºÑƒÑ€ÑĞ¸Ğ²Ğ½Ğ¾ ÑĞ¾Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ¸ Ğ·Ğ°Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ Ğ¸Ñ… Ğ² output_file"""
    
    root_path = Path(root_dir)
    files_by_category = {}
    total_files = 0
    
    print("ğŸ” Ğ¡ĞºĞ°Ğ½Ğ¸Ñ€ÑƒÑ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°...")
    
    # Ğ¡Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° ÑĞ¾Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ Ğ²ÑĞµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ¿Ğ¾ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑĞ¼
    for root, dirs, files in os.walk(root_dir):
        # Ğ£Ğ´Ğ°Ğ»ÑĞµĞ¼ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ
        dirs[:] = [d for d in dirs if not should_skip_directory(d)]
        
        for file in files:
            if should_skip_file(file):
                continue
                
            if is_target_file(file):
                file_path = Path(root) / file
                relative_path = file_path.relative_to(root_path)
                file_extension = file_path.suffix.lower()
                category = get_file_category(file_extension)
                
                if category not in files_by_category:
                    files_by_category[category] = []
                
                files_by_category[category].append((file_path, relative_path))
                total_files += 1
    
    print(f"ğŸ“ ĞĞ°Ğ¹Ğ´ĞµĞ½Ğ¾ {total_files} Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ² {len(files_by_category)} ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑÑ…")
    
    # Ğ—Ğ°Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµĞ¼ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ² Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ñ„Ğ°Ğ¹Ğ», ÑĞ³Ñ€ÑƒĞ¿Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑĞ¼
    with open(output_file, 'w', encoding='utf-8') as out_f:
        # Ğ—Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°
        out_f.write("=" * 80 + "\n")
        out_f.write(f"Ğ˜Ğ¡Ğ¥ĞĞ”ĞĞ«Ğ™ ĞšĞĞ” ĞŸĞ ĞĞ•ĞšĞ¢Ğ\n")
        out_f.write(f"Ğ”Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ: {root_dir}\n")
        out_f.write(f"Ğ’ÑĞµĞ³Ğ¾ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²: {total_files}\n")
        out_f.write("=" * 80 + "\n\n")
        
        # ĞŸÑ€Ğ¾Ñ…Ğ¾Ğ´Ğ¸Ğ¼ Ğ¿Ğ¾ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑĞ¼ Ğ² Ğ°Ğ»Ñ„Ğ°Ğ²Ğ¸Ñ‚Ğ½Ğ¾Ğ¼ Ğ¿Ğ¾Ñ€ÑĞ´ĞºĞµ
        for category in sorted(files_by_category.keys()):
            files_in_category = files_by_category[category]
            
            # Ğ—Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸
            out_f.write("\n" + "â– " * 80 + "\n")
            out_f.write(f"ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ¯: {category} ({len(files_in_category)} Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)\n")
            out_f.write("â– " * 80 + "\n\n")
            
            # Ğ¡Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞµĞ¼ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ¿Ğ¾ Ğ¿ÑƒÑ‚Ğ¸
            for file_path, relative_path in sorted(files_in_category, key=lambda x: str(x[1])):
                try:
                    # Ğ—Ğ°Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµĞ¼ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº Ñ„Ğ°Ğ¹Ğ»Ğ°
                    out_f.write(format_file_header(str(file_path), str(relative_path), category))
                    out_f.write("\n\n")
                    
                    # Ğ§Ğ¸Ñ‚Ğ°ĞµĞ¼ Ğ¸ Ğ·Ğ°Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµĞ¼ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ğ¼Ğ¾Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ°
                    with open(file_path, 'r', encoding='utf-8') as in_f:
                        content = in_f.read().rstrip()  # Ğ£Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ Ğ»Ğ¸ÑˆĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»Ñ‹ Ğ² ĞºĞ¾Ğ½Ñ†Ğµ
                        out_f.write(content)
                    
                    # Ğ—Ğ°Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµĞ¼ Ğ¿Ğ¾Ğ´Ğ²Ğ°Ğ» Ñ„Ğ°Ğ¹Ğ»Ğ°
                    out_f.write(format_file_footer())
                    
                    print(f"âœ… ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½: {relative_path}")
                    
                except UnicodeDecodeError:
                    try:
                        # ĞŸÑ€Ğ¾Ğ±ÑƒĞµĞ¼ Ğ´Ñ€ÑƒĞ³ÑƒÑ ĞºĞ¾Ğ´Ğ¸Ñ€Ğ¾Ğ²ĞºÑƒ
                        with open(file_path, 'r', encoding='cp1251') as in_f:
                            content = in_f.read().rstrip()
                            out_f.write(content)
                        out_f.write(format_file_footer())
                        print(f"âœ… ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½ (Windows-1251): {relative_path}")
                    except Exception as e:
                        out_f.write(f"// âš ï¸ ĞÑˆĞ¸Ğ±ĞºĞ° Ñ‡Ñ‚ĞµĞ½Ğ¸Ñ Ñ„Ğ°Ğ¹Ğ»Ğ°: {e}\n")
                        out_f.write(format_file_footer())
                        print(f"âŒ ĞÑˆĞ¸Ğ±ĞºĞ°: {relative_path} - {e}")
                        
                except Exception as e:
                    out_f.write(f"// âš ï¸ ĞÑˆĞ¸Ğ±ĞºĞ° Ñ‡Ñ‚ĞµĞ½Ğ¸Ñ Ñ„Ğ°Ğ¹Ğ»Ğ°: {e}\n")
                    out_f.write(format_file_footer())
                    print(f"âŒ ĞÑˆĞ¸Ğ±ĞºĞ°: {relative_path} - {e}")

def main():
    parser = argparse.ArgumentParser(
        description='ğŸ“ Ğ¡Ğ±Ğ¾Ñ€Ñ‰Ğ¸Ğº Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ´Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° - ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ» ÑĞ¾ Ğ²ÑĞµĞ¼ ĞºĞ¾Ğ´Ğ¾Ğ¼',
        formatter_class=argparse.RawDescriptionHelpFormatter
    )
    parser.add_argument('--input', '-i', default='.', 
                       help='Ğ’Ñ…Ğ¾Ğ´Ğ½Ğ°Ñ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ (Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ Ñ‚ĞµĞºÑƒÑ‰Ğ°Ñ)')
    parser.add_argument('--output', '-o', default='project_code.txt',
                       help='Ğ’Ñ‹Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ñ„Ğ°Ğ¹Ğ» (Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ project_code.txt)')
    
    args = parser.parse_args()
    
    input_dir = os.path.abspath(args.input)
    output_file = args.output
    
    if not os.path.exists(input_dir):
        print(f"âŒ ĞÑˆĞ¸Ğ±ĞºĞ°: Ğ”Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ {input_dir} Ğ½Ğµ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚!")
        return
    
    print("ğŸš€ Ğ—Ğ°Ğ¿ÑƒÑĞº ÑĞ±Ğ¾Ñ€Ñ‰Ğ¸ĞºĞ° Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ´Ğ°...")
    print(f"ğŸ“‚ Ğ˜ÑÑ…Ğ¾Ğ´Ğ½Ğ°Ñ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ: {input_dir}")
    print(f"ğŸ’¾ Ğ’Ñ‹Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ñ„Ğ°Ğ¹Ğ»: {output_file}")
    print("-" * 60)
    
    collect_source_files(input_dir, output_file)
    
    print("-" * 60)
    print(f"ğŸ‰ Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ° ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾!")
    print(f"ğŸ“„ Ğ’ÑĞµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ñ‹ Ğ²: {output_file}")

if __name__ == "__main__":
    main()
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
